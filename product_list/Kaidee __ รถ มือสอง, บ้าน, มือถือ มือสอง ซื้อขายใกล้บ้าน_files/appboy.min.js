/*
 appboy v1.6.5
 (c) Appboy Inc. 2017 - http://appboy.com
 License available at https://github.com/Appboy/appboy-web-sdk/blob/master/LICENSE
 Compiled on 2017-01-04
*/
var J="function"==typeof Object.defineProperties?Object.defineProperty:function(g,y,z){if(z.get||z.set)throw new TypeError("ES3 does not support getters and setters.");g!=Array.prototype&&g!=Object.prototype&&(g[y]=z.value)},L="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function P(){P=function(){};L.Symbol||(L.Symbol=ba)}var ca=0;function ba(g){return"jscomp_symbol_"+(g||"")+ca++}
function Q(){P();var g=L.Symbol.iterator;g||(g=L.Symbol.iterator=L.Symbol("iterator"));"function"!=typeof Array.prototype[g]&&J(Array.prototype,g,{configurable:!0,writable:!0,value:function(){return da(this)}});Q=function(){}}function da(g){var y=0;return ea(function(){return y<g.length?{done:!1,value:g[y++]}:{done:!0}})}function ea(g){Q();g={next:g};g[L.Symbol.iterator]=function(){return this};return g}
function fa(g,y){Q();g instanceof String&&(g+="");var z=0,A={next:function(){if(z<g.length){var B=z++;return{value:y(B,g[B]),done:!1}}A.next=function(){return{done:!0,value:void 0}};return A.next()}};A[Symbol.iterator]=function(){return A};return A}for(var R=L,S=["Array","prototype","keys"],T=0;T<S.length-1;T++){var U=S[T];U in R||(R[U]={});R=R[U]}var V=S[S.length-1],X=R[V],Y=X?X:function(){return fa(this,function(g){return g})};Y!=X&&null!=Y&&J(R,V,{configurable:!0,writable:!0,value:Y});
function Z(g){function y(a){if(a=a.querySelectorAll(".ab-close-button")[0])a.className=a.className.replace("fa-times","fa-times-circle")}function z(a,c,d,e,f,k){if(0<a.buttons.length){var q=document.createElement("div");q.className="ab-message-buttons";a.imageStyle!==b.f.Bc.GRAPHIC&&A(q,a.backgroundColor);e.insertBefore(q,e.firstChild);for(var l=function(q){return function(l){l=l||window.event;a.ra(k||e,function(){c.gd(q,a);q.clickAction===b.f.Ra.URI?b.Y.openUri(q.uri,l,f||a.openTarget===b.f.Ec.BLANK):
q.clickAction===b.f.Ra.NEWS_FEED&&d()});l.stopPropagation()}},p=0;p<a.buttons.length;p++){var g=a.buttons[p],n=document.createElement("button");n.className="ab-message-button";n.setAttribute("type","button");n.appendChild(document.createTextNode(g.text));n.style.backgroundColor=b.wa.Qa(g.backgroundColor);n.style.color=b.wa.Qa(g.textColor);n.onclick=l(g);q.appendChild(n)}}}function A(a,c){var d=document.createElement("div");d.className="ab-mask";a.appendChild(d);d=document.createElement("div");d.className=
"ab-background";d.style.backgroundColor=b.wa.Qa(c);a.appendChild(d)}function B(a){var c=!1,d=!1,e=!1;a.Tf(function(a){c=a.openInAppMessagesInNewTab||!1;d=a.openNewsFeedCardsInNewTab||!1;e=a.requireExplicitInAppMessageDismissal||!1;if(!a.doNotLoadFontAwesome){a=document.styleSheets;for(var b=!1,f=0;f<a.length;f++)if(null!=a[f].href&&(-1!==a[f].href.indexOf("/font-awesome.min.css")||-1!==a[f].href.indexOf("/font-awesome.css"))){b=!0;break}b||(a=document.createElement("link"),a.setAttribute("rel","stylesheet"),
a.setAttribute("href","//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"),document.getElementsByTagName("head")[0].appendChild(a))}});var f={oh:function(){return a.Uf(function(a){f.showInAppMessage(a[0]);return a.slice(1)})},Bi:function(d){if(null==d)return!1;if(d instanceof b.Cb)return b.b.info("User received control for a multivariate test, logging to Appboy servers."),a.tc(d),!0;if(!(d instanceof b.f))return!1;if(d instanceof b.Ha||d instanceof b.Ga)if(0<document.querySelectorAll(".ab-modal").length||
0<document.querySelectorAll(".ab-fullscreen").length)return b.b.info("Cannot show in-app message '"+d.message+"' because another message is being shown. This message will be returned to the queue for future handling."),d.Zd=!0,!1;if(b.Y.Xh()){var f=b.Y.Ph();if(f===b.Y.ia.Fc&&d.orientation===b.f.ia.LANDSCAPE||f===b.Y.ia.wd&&d.orientation===b.f.ia.PORTRAIT)return b.b.info("Not showing "+(d.orientation===b.f.ia.PORTRAIT?"portrait":"landscape")+" in-app message '"+d.message+"' because the screen is currently "+
(f===b.Y.ia.Fc?"portrait":"landscape")),!1}var k=this,p=document.getElementsByTagName("body")[0],f=d.Aa(a,function(){k.Rf()},function(c){if(d instanceof b.Ha||d instanceof b.Ga){var f=document.createElement("div");f.className="ab-page-blocker";f.className+=d.Uc();f.style.backgroundColor=b.wa.Qa(d.frameColor);p.appendChild(f);e||(f.onclick=function(a){a=a||window.event;d.ra(c);d.oe();a.stopPropagation()})}else{for(var k=document.querySelectorAll(".ab-slideup"),f=null,q=k.length-1;0<=q;q--)if(k[q]!==
c){f=k[q];break}d.slideFrom===b.f.Gc.TOP?(k=0,null!=f&&(k=f.offsetTop+f.offsetHeight),c.style.top=Math.max(k,0)+"px"):(k=0,null!=f&&(k=(window.innerHeight||document.documentElement.clientHeight)-f.offsetTop),c.style.bottom=Math.max(k,0)+"px")}a.tc(d);d.dismissType===b.f.ac.AUTO_DISMISS&&setTimeout(function(){p.contains(c)&&(d.ra(c),d.oe())},d.duration)},c);p.appendChild(f);d instanceof b.ob&&!b.Sa.be(f,!0,!0)&&(d.slideFrom===b.f.Gc.TOP?f.style.top="0px":f.style.bottom="0px");return!0},Rf:function(c,
e,f){function k(c){for(var d=c.querySelectorAll(".ab-feed"),e=null,f=0;f<d.length;f++)d[f].parentNode===c&&(e=d[f]);null!=e?(b.G.ra(a,e),e.parentNode.replaceChild(h,e)):c.appendChild(h);a.fd();g.Yd(a,h)}function q(a,c){if(null==c)return a;var d,e=[];for(d=0;d<c.length;d++)e.push(c[d].toLowerCase());for(var f=[],k=0;k<a.length;k++){var q=[];for(d=0;d<a[k].categories.length;d++)q.push(a[k].categories[d].toLowerCase());0<b.C.Af(q,e).length&&f.push(a[k])}return f}null==c&&(c=document.getElementsByTagName("body")[0]);
var l=!1,g=null;null==e?(g=a.Zc(),g.Xf(q(g.cards,f),g.lastUpdated,null,a,d),l=!0):g=new b.G(q(e,f),new Date);var h=g.Aa(a,d);if(l){if(null==g.lastUpdated||Date.now()-g.lastUpdated.valueOf()>b.G.Me)b.b.info("Cached feed was older than max TTL of "+b.G.Me+" ms, requesting an update from the server."),g.Nf(a,h);e=a.Sf(function(b){var c=h.querySelectorAll(".ab-refresh-button")[0];null!=c&&(c.className=c.className.replace(/fa-spin/,""));g.Xf(q(b.cards,f),b.lastUpdated,h,a,d)});g.gi(e,h)}null!=c?k(c):window.$h=
function(a){return function(){"function"===typeof a&&a();k(document.getElementsByTagName("body")[0])}}(window.$h)},Fh:function(){for(var c=document.querySelectorAll(".ab-feed"),d=0;d<c.length;d++)b.G.ra(a,c[d])},Gi:function(a,b,c){0<document.querySelectorAll(".ab-feed").length?f.destroyFeed():f.showFeed(a,b,c)}};return f}function ga(a,c){var d;d=[a];if(null===c)return null;if(null==c){var e={};e[b.m.Da]=d;return e}if((e=K(c))&&null!=c[b.m.Da])c[b.m.Da].push(a);else if(e&&null!=c[b.m.Ca])for(c[b.m.Da]=
d;-1!==(d=c[b.m.Ca].indexOf(a));)c[b.m.Ca].splice(d,1);else{if(!b.C.isArray(c))return b.b.error("Attempted to remove from custom attribute array but it is not an array."),!1;for(;-1!==(d=c.indexOf(a));)c.splice(d,1)}return c}function ha(a,c){var d=[a];if(null===c)return d;if(null==c){var e={};e[b.m.Ca]=d;return e}if((e=K(c))&&null!=c[b.m.Ca])c[b.m.Ca].push(a);else if(e&&null!=c[b.m.Da])for(c[b.m.Ca]=d;-1!==(d=c[b.m.Da].indexOf(a));)c[b.m.Da].splice(d,1);else{if(!b.C.isArray(c))return b.b.error("Attempted to add to custom attribute array but it is not an array."),
!1;c.push(a)}return c}function ia(a,c){if(null===c)return a;if(null==c){var d={};d[b.m.ib]=a;return d}return K(c)&&null!=c[b.m.ib]?(c[b.m.ib]+=a,c):isNaN(parseInt(c))?(b.b.error("Attempted to increment attribute but it is not an integer."),!1):c+a}function K(a){return null!=a&&"object"===typeof a&&!b.C.isArray(a)}function N(a){function c(a){var c={},d;for(d in a){var e=a[d];null==e?delete a[d]:c[d]=b.C.Na(e)?b.N.Vf(e):e}return c}function d(a,c,d,e,f){null==a&&(a={});if("object"!==typeof a||b.C.isArray(a))return b.b.error(c+
" requires that "+d+" be an object. Ignoring "+f+"."),!1;for(var k in a){if(!b.K.Ba(k,e,"the "+f+" property name"))return!1;c=a[k];if(null!=c&&!b.K.Mi(c,e,"the "+f+' property "'+k+'"'))return!1}return!0}function e(){if(F)return!1;if(!w)throw Error("Appboy must be initialized before calling methods.");return!0}var f={sh:function(a){return new b.$b(b.pc,a)},xh:function(a,c,d,e,f,g,q){null==e&&(e={});var l=new b.nb(g),h=new b.Lb(l,g);return new b.H(a,d,e[k.$f],c,new b.hc(g,h,e[k.Pg]),q,h,l,g,f)},uf:function(){return new b.Ea},
vh:function(a){return new b.lb(a)},uh:function(a,c){return new b.Eb(a,c)},yh:function(a,c,d,e){return new b.pb(a,c,d,e)},wh:function(a,c,d,e,f,k){return new b.PushManager(a,c,d,e+"/safari/"+c,f,k)}};null==a&&(a=f);var k={Zf:"allowCrawlerActivity",kg:"enableLogging",qg:"minimumIntervalBetweenTriggerActionsInSeconds",Pg:"sessionTimeoutInSeconds",$f:"appVersion",Og:"serviceWorkerLocation",Ie:"language",Mg:"safariWebsitePushId",yc:"baseUrl"},q,l,g,h,n,r,t,v,C,M=new b.Ea,x=[],w=!1,F=!1;b.W={};b.W.Le=100;
b.W.Ee=255;b.W.Dd=-1;b.W.zd="inAppMessage must be an ab.InAppMessage object";b.W.Ne="must be an ab.Card object";return{Tf:function(a){return M.tb(a)},ae:function(c,d){b.b.yb(null!=d&&d[k.kg]);if(w)return b.b.info("Appboy has already been initialized with an API key."),!0;if(null==c||""===c||"string"!==typeof c)return b.b.error("Appboy requires a valid API key to be initialized."),!1;q=c;l=d||{};b.pc.yb();if(b.pc.Th&&!l[k.Zf])return b.b.info("Ignoring activity from crawler bot "+navigator.userAgent),
F=!0,!1;var e=[],f=b.Hc.Ch(c);h=a.uf();x.push(h);n=a.uh(h,f);e.push(n);v=a.uf();x.push(v);r=a.vh(v);e.push(r);var p=null!=l[k.yc]?l[k.yc]:"https://dev.appboy.com/api/v3",G=a.sh(f);g=a.xh(q,p,"1.6.5",l,function(a){if(w)for(var b=0;b<e.length;b++)e[b].bd(a)},f,G);t=a.yh(l[k.qg]||30,r,f,g);e.push(t);g.ae();C=a.wh(g.sc(),q,G,p,l[k.Og],l[k.Mg]);f="Initialized ";l&&l[k.yc]&&(f+='for the Appboy backend at "'+l[k.yc]+'" ');b.b.info(f+('with API key "'+c+'".'));f=b.pc.language;(p=l&&l[k.Ie])&&(f=
l[k.Ie]);b.fe.yb(f,p);M.$a(l);return w=!0},rc:function(){b.b.info("Destroying appboy instance");b.b.rc();w&&(n.clearData(!1),n=null,r.clearData(!1),r=null,t.clearData(!1),t=null,h.na(),h=null,v.na(),v=null,g.rc(),q=l=C=g=null,x=[],F=w=!1)},we:function(){b.b.we()},se:function(a){b.b.se(a)},kd:function(){if(e()){g.kd();var a=u.ta.Ae.Re,c=new u.ta(a,b.b);c.Nh(a.Hb.Pe,function(d,e){function f(){t.xb(b.U.Ib,[q],l)}var k=e.lastClick,q=e.trackingString;b.b.info("Firing push click trigger from "+q+" push click at "+
k);var l=g.Bh(k,q);g.li(f,f);c.Eh(a.Hb.Pe,d)})}},Wd:function(a){e()&&(null==a||0===a.length?b.b.error("changeUser requires a non-empty userId."):g.Wd(a.toString(),[r,n,t]))},sc:function(){if(e())return g.sc()},nd:function(){e()&&g.nd()},md:function(){e()&&g.md()},Sf:function(a){if(e())return h.tb(a)},Zc:function(){if(e())return n.Zc()},Uf:function(a){if(e())return v.tb(a)},qe:function(a){e()&&(null==a&&(a=1),a=parseInt(a),isNaN(a)||a!==b.W.Dd&&0>a?b.b.error("Received invalid count for requestInAppMessageRefresh. Provide a positive number, or "+
b.W.Dd+" for all messages."):0===a?r.jd():g.qe(a))},tc:function(a){if(e())return a instanceof b.f||a instanceof b.Cb?g.tc(a).M:(b.b.error(b.W.zd),!1)},hd:function(a){if(e()){if(!(a instanceof b.f))return b.b.error(b.W.zd),!1;var c=g.hd(a);c.M&&t.xb(b.U.kb,[a.triggerId],c.L);return c.M}},gd:function(a,c){if(e()){if(!(a instanceof b.f.ga))return b.b.error("button must be an ab.InAppMessage.Button object"),!1;if(!(c instanceof b.f))return b.b.error(b.W.zd),!1;var d=g.gd(a,c);d.M&&t.xb(b.U.kb,[c.triggerId,
a.id],d.L);return d.M}},ed:function(a){if(e()){if(!b.C.isArray(a))return b.b.error("cards must be an array"),!1;for(var c=0;c<a.length;c++)if(!(a[c]instanceof b.B))return b.b.error("Each card in cards "+b.W.Ne),!1;return g.ed(a).M}},dd:function(a){if(e())return a instanceof b.B?g.dd(a).M:(b.b.error("card "+b.W.Ne),!1)},fd:function(){if(e())return g.fd().M},oa:function(a){if(e()){for(var b=0;b<x.length;b++)x[b].oa(a);M.oa(a)}},na:function(){if(e())for(var a=0;a<x.length;a++)x[a].na()},ie:function(a,
f){if(e()){if(null==a||0>=a.length)return b.b.error('logCustomEvent requires a non-empty eventName, got "'+a+'". Ignoring event.'),!1;if(!b.K.Ba(a,"log custom event","the event name")||!d(f,"logCustomEvent","eventProperties",'log custom event "'+a+'"',"event"))return!1;var k=g.ie(a,c(f));k.M&&(b.b.info('Logged custom event "'+a+'".'),t.xb(b.U.jb,[a,f],k.L));return k.M}},je:function(a,f,k,q,l){if(e()){null==k&&(k="USD");null==q&&(q=1);if(null==a||0>=a.length)return b.b.error('logPurchase requires a non-empty productId, got "'+
a+'", ignoring.'),!1;if(!b.K.Ba(a,"log purchase","the purchase name"))return!1;var h=parseFloat(f);if(isNaN(h))return b.b.error("logPurchase requires a numeric price, got "+f+", ignoring."),!1;h=h.toFixed(2);f=parseInt(q);if(isNaN(f))return b.b.error("logPurchase requires an integer quantity, got "+q+", ignoring."),!1;if(1>f||f>b.W.Le)return b.b.error("logPurchase requires a quantity >1 and <"+b.W.Le+", got "+f+", ignoring."),!1;k=k.toUpperCase();if(-1==="AED AFN ALL AMD ANG AOA ARS AUD AWG AZN BAM BBD BDT BGN BHD BIF BMD BND BOB BRL BSD BTC BTN BWP BYR BZD CAD CDF CHF CLF CLP CNY COP CRC CUC CUP CVE CZK DJF DKK DOP DZD EEK EGP ERN ETB EUR FJD FKP GBP GEL GGP GHS GIP GMD GNF GTQ GYD HKD HNL HRK HTG HUF IDR ILS IMP INR IQD IRR ISK JEP JMD JOD JPY KES KGS KHR KMF KPW KRW KWD KYD KZT LAK LBP LKR LRD LSL LTL LVL LYD MAD MDL MGA MKD MMK MNT MOP MRO MTL MUR MVR MWK MXN MYR MZN NAD NGN NIO NOK NPR NZD OMR PAB PEN PGK PHP PKR PLN PYG QAR RON RSD RUB RWF SAR SBD SCR SDG SEK SGD SHP SLL SOS SRD STD SVC SYP SZL THB TJS TMT TND TOP TRY TTD TWD TZS UAH UGX USD UYU UZS VEF VND VUV WST XAF XAG XAU XCD XDR XOF XPD XPF XPT YER ZAR ZMK ZMW ZWL".split(" ").indexOf(k))return b.b.error("logPurchase requires a valid currencyCode, got "+
k+", ignoring."),!1;if(!d(l,"logPurchase","purchaseProperties",'log purchase "'+a+'"',"purchase"))return!1;q=g.je(a,h,k,f,c(l));q.M&&(b.b.info("Logged "+f+" purchase"+(1<f?"s":"")+' of "'+a+'" for '+k+" "+h+"."),t.xb(b.U.mb,[a,l],q.L));return q.M}},bb:function(){if(e())return C.bb()},Rb:function(){if(e())return C.Rb()},ce:function(a,b,c){e()&&C.ce(a,b,c)},ee:function(){if(e())return C.ee()},ei:function(a,b,c){if(e())return C.subscribe(c,function(b,c,d){g.Ni();g.nd();"function"===typeof a&&a(b,c,d)},
b)},Ki:function(){if(e())return C.unsubscribe()},ve:function(a,c,d,f,k){if(e()){if(!b.Ac.Li(a,c))return!1;g.ve(a,c,d,f,k);return!0}}}}var u={ta:function(a,b){this.df="undefined"===typeof window?self:window;this.O=a;this.P=b}};u.ta.Ae={Re:{aa:"AppboyServiceWorkerAsyncStorage",VERSION:2,Hb:{hg:"data",Pe:"pushClicks"}}};u.ta.prototype.lf=function(){if("indexedDB"in this.df)return this.df.indexedDB};u.ta.prototype.Rc=function(){return null!=this.lf()};u.ta.prototype.Sc=function(a){var b=this.lf().open(this.O.aa,
this.O.VERSION);if(null==b)return!1;var d=this;b.onupgradeneeded=function(a){d.P.info("Upgrading indexedDB database "+d.O.aa+" to v"+d.O.VERSION+"...");a=a.target.result;for(var b in d.O.Hb)a.objectStoreNames.contains(d.O.Hb[b])||a.createObjectStore(d.O.Hb[b])};b.onsuccess=function(b){d.P.info("Opened indexedDB database "+d.O.aa+" v"+d.O.VERSION);var c=b.target.result;c.onversionchange=function(){c.close();d.P.error("Needed to close the database unexpectedly because of an upgrade in another tab")};
a(c)};b.onerror=function(a){d.P.info("Could not open indexedDB database "+d.O.aa+" v"+d.O.VERSION+": "+a.target.errorCode);return!0};return!0};u.ta.prototype.setItem=function(a,b,d){if(!this.Rc())return!1;var c=this;return this.Sc(function(e){e.objectStoreNames.contains(a)?(e=e.transaction([a],"readwrite").objectStore(a).put(d,b),e.onerror=function(){c.P.error("Could not store object "+b+" in "+a+" on indexedDB database "+c.O.aa)},e.onsuccess=function(){c.P.info("Stored object "+b+" in "+a+" on indexedDB database "+
c.O.aa)}):c.P.error("Could not store object "+b+" in "+a+" on indexedDB database "+c.O.aa+" because "+a+" is not a valid objectStore")})};u.ta.prototype.getItem=function(a,b,d){if(!this.Rc())return!1;var c=this;return this.Sc(function(e){e.objectStoreNames.contains(a)?(e=e.transaction([a],"readonly").objectStore(a).get(b),e.onerror=function(){c.P.error("Could not retrieve object "+b+" in "+a+" on indexedDB database "+c.O.aa)},e.onsuccess=function(e){c.P.info("Retrieved object "+b+" in "+a+" on indexedDB database "+
c.O.aa);e=e.target.result;null!=e&&d(e)}):c.P.error("Could not retrieve object "+b+" in "+a+" on indexedDB database "+c.O.aa+" because "+a+" is not a valid objectStore")})};u.ta.prototype.Nh=function(a,b){if(this.Rc()){var c=this;this.Sc(function(d){d.objectStoreNames.contains(a)?(d=d.transaction([a],"readonly").objectStore(a).openCursor(null,"prev"),d.onerror=function(){c.P.error("Could not open cursor for "+a+" on indexedDB database "+c.O.aa)},d.onsuccess=function(d){d=d.target.result;null!=d&&
null!=d.value&&null!=d.key&&(c.P.info("Retrieved last record "+d.key+" in "+a+" on indexedDB database "+c.O.aa),b(d.key,d.value))}):c.P.error("Could not retrieve last record from "+a+" on indexedDB database "+c.O.aa+" because "+a+" is not a valid objectStore")})}};u.ta.prototype.Eh=function(a,b){if(this.Rc()){var c=this;this.Sc(function(d){d.objectStoreNames.contains(a)?(d=d.transaction([a],"readwrite").objectStore(a)["delete"](b),d.onerror=function(){c.P.error("Could not delete record "+b+" from "+
a+" on indexedDB database "+c.O.aa)},d.onsuccess=function(){c.P.info("Deleted record "+b+" from "+a+" on indexedDB database "+c.O.aa)}):c.P.error("Could not delete record "+b+" from "+a+" on indexedDB database "+c.O.aa+" because "+a+" is not a valid objectStore")})}};var b={Pa:function(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a}};"undefined"===typeof console&&(window.console={log:function(){}});Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return f.apply(this.prototype&&
this instanceof d?this:a,e.concat(Array.prototype.slice.call(arguments)))}function d(){}if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),f=this;d.prototype=this.prototype;b.prototype=new d;return b});void 0===Object.create&&(Object.create=function(a){function b(){}b.prototype=a;return new b});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length>>>0,e=Number(b)||
0,e=0>e?Math.ceil(e):Math.floor(e);for(0>e&&(e+=c);e<c;e++)if(e in this&&this[e]===a)return e;return-1});Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0});Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1});Date.now||(Date.now=function(){return(new Date).valueOf()});window.atob||(window.atob=function(a){var b={},d,e=[],f="",k=String.fromCharCode,q=[[65,91],[97,123],[48,58],[43,44],[47,48]],g;for(g in q)for(d=
q[g][0];d<q[g][1];d++)e.push(k(d));for(d=0;64>d;d++)b[e[d]]=d;for(d=0;d<a.length;d+=72){var h=e=0,m=a.substring(d,d+72);for(g=0;g<m.length;g++)for(q=b[m.charAt(g)],e=(e<<6)+q,h+=6;8<=h;)f+=k((e>>>(h-=8))%256)}return f});b.$b=function(a,b){this.Jc=a;this.o=b};b.$b.prototype.Vh=function(){return null==this.o.Bb(b.j.w.ud)};b.$b.prototype.$c=function(){var a=this.o.Bb(b.j.w.ud);null==a&&(a=new b.Ua(b.bc.ad()),this.o.ue(b.j.w.ud,a));return new b.Fe(a.Za,this.Jc.Vc,this.Jc.version,this.Jc.Ig,screen.width+
"x"+screen.height,this.Jc.language,this.gh())};b.$b.prototype.gh=function(){return this.dh()};b.$b.prototype.dh=function(){var a=(new Date).getTimezoneOffset(),b=parseInt(a/60),d=parseInt(a%60),e="GMT";0!==a&&(e=e+(0>a?"+":"-")+(("00"+Math.abs(b)).slice(-2)+":"+("00"+Math.abs(d)).slice(-2)));return e};b.PushManager=function(a,b,d,e,f,k){this.Pc=a;this.Wa=b;this.Mb=d;this.Yg=e;this.lc=f||"/service-worker.js";this.ff=k;this.Oc="serviceWorker"in navigator&&"undefined"!==typeof ServiceWorkerRegistration&&
"showNotification"in ServiceWorkerRegistration.prototype&&"PushManager"in window;this.Pd="safari"in window&&"pushNotification"in window.safari};b.PushManager.Oe="Push notifications are not supported in this browser.";b.PushManager.hb="catch";b.PushManager.prototype.bb=function(){return this.Oc||this.Pd};b.PushManager.prototype.Rb=function(){return this.bb()&&"denied"===Notification.permission};b.PushManager.prototype.ee=function(){return this.bb()&&"granted"===Notification.permission};b.PushManager.prototype.ce=
function(a,c,d){d=this.ff||d;if(this.bb())if(this.Oc){var e=this;navigator.serviceWorker.register(this.lc).then(function(){e.Rb()?c():navigator.serviceWorker.ready.then(function(d){d.pushManager.getSubscription().then(function(b){b?a():c()})[b.PushManager.hb](function(){c()})})})[b.PushManager.hb](function(){c()})}else null==d||""===d?b.b.error("You must supply the safariWebsitePushId argument in order to use isPushGranted on Safari"):"granted"===window.safari.pushNotification.permission(d).permission?
a():c();else c()};b.PushManager.prototype.Ud=function(a,b){var c;"string"===typeof a?c=a:0!==a.endpoint.indexOf("https://android.googleapis.com/gcm/send")?c=a.endpoint:(c=a.endpoint,a.subscriptionId&&-1===a.endpoint.indexOf(a.subscriptionId)&&(c=a.endpoint+"/"+a.subscriptionId));var e=null,f=null;if(null!=a.getKey)try{e=btoa(String.fromCharCode.apply(null,new Uint8Array(a.getKey("p256dh")))),f=btoa(String.fromCharCode.apply(null,new Uint8Array(a.getKey("auth"))))}catch(k){if("invalid arguments"!==
k.message)throw k;}this.Pc.vc(c,e,f);c&&"function"===typeof b&&b(c,e,f)};b.PushManager.prototype.nf=function(){this.Pc.vc(null,null,null)};b.PushManager.prototype.mf=function(a,c,d,e){if("default"===c.permission){var f=this;window.safari.pushNotification.requestPermission(this.Yg,a,{api_key:this.Wa,device_id:this.Mb.$c().id},function(c){"granted"===c.permission&&f.Pc.te(b.m.dc.OPTED_IN);f.mf(a,c,d,e)})}else"denied"===c.permission?(b.b.info("The user has blocked notifications from this site, or Safari push is not configured in the Appboy dashboard."),
"function"===typeof e&&e()):"granted"===c.permission&&(b.b.info("User subscribed to push."),this.Ud(c.deviceToken,d))};b.PushManager.prototype.subscribe=function(a,c,d){a=this.ff||a;if(!this.bb())b.b.info(b.PushManager.Oe);else if(this.Oc)if(null!=window.location&&null!=window.location.pathname&&0!==window.location.pathname.indexOf(this.lc.substr(0,this.lc.lastIndexOf("/")+1)))b.b.error("Cannot subscribe users to push from a path higher than the service worker location (tried to subscribe from "+
window.location.pathname+" but service worker is at "+this.lc+")");else{var e=this;navigator.serviceWorker.register(this.lc).then(function(){e.Rb()?(b.b.info("The user has blocked notifications from this site."),"function"===typeof d&&d()):navigator.serviceWorker.ready.then(function(a){a.pushManager.getSubscription().then(function(f){if(f)b.b.info("User already subscribed to push."),e.Ud(f,c);else a.pushManager.subscribe({userVisibleOnly:!0}).then(function(a){b.b.info("User successfully subscribed to push.");
e.Pc.te(b.m.dc.OPTED_IN);e.Ud(a,c)})[b.PushManager.hb](function(a){e.Rb()?(b.b.info("Permission for push notifications was denied."),"function"===typeof d&&d()):b.b.error("Push subscription failed. Be sure that your site is https and that your manifest file is correctly configured:"+a)})})[b.PushManager.hb](function(a){b.b.error("Error checking current push subscriptions: "+a)})})})[b.PushManager.hb](function(a){b.b.error("ServiceWorker registration failed: "+a)})}else if(this.Pd)if(null==a||""===
a)b.b.error("You must supply the safariWebsitePushId argument in order to use registerAppboyPushMessages on Safari");else{var f=window.safari.pushNotification.permission(a);this.mf(a,f,c,d)}};b.PushManager.prototype.unsubscribe=function(){if(this.bb())if(this.Oc){var a=this;navigator.serviceWorker.getRegistration().then(function(c){if(c)c.pushManager.getSubscription().then(function(d){d&&(a.nf(),d.unsubscribe().then(function(a){a?b.b.info("User successfully unsubscribed from push."):b.b.error("Failed to unsubscribe user from push.");
c.unregister();b.b.info("Service worker successfully unregistered.")})[b.PushManager.hb](function(a){b.b.error("Unsubscription error: "+a)}))})[b.PushManager.hb](function(a){b.b.error("Error unsubscribing from push: "+a)})})}else this.Pd&&(this.nf(),b.b.info("User unsubscribed from push."));else b.b.info(b.PushManager.Oe)};b.nb=function(a){this.o=a;this.Mc=null};b.nb.prototype.oc=function(){if(null==this.Mc){var a=this.o.Fa(b.j.w.Qe);this.Mc=null!=a?b.Kb.ha(a):new b.Kb}return this.Mc};b.nb.prototype.Oh=
function(){return this.oc().ge};b.nb.prototype.ci=function(a){null!=a&&null!=a.config&&(a=a.config,a.time>this.oc().ge&&(this.Mc=a=new b.Kb(a.time,a.events_blacklist,a.attributes_blacklist,a.purchases_blacklist),this.o.va(b.j.w.Qe,a.T())))};b.nb.prototype.Jh=function(a){return-1!==this.oc().xf.indexOf(a)};b.nb.prototype.nh=function(a){return-1!==this.oc().tf.indexOf(a)};b.nb.prototype.bi=function(a){return-1!==this.oc().Kf.indexOf(a)};b.hc=function(a,b,d){this.o=a;this.D=b;d=parseFloat(d);isNaN(d)&&
(d=1800);this.$g=d};b.hc.prototype.hf=function(a,c){return new b.Event(this.D.R(),b.Event.la.Rg,a,c.Za,{d:b.N.Wc(a-c.vf)})};b.hc.prototype.Mh=function(){var a=this.o.Bb(b.j.w.Jb);return null==a?null:a.Za};b.hc.prototype.fa=function(){var a=Date.now(),c=a+1E3*this.$g,d=this.o.Bb(b.j.w.Jb);if(null==d||d.Yc<a){var e="Generating session start event with time "+a;null!=d&&(this.o.sa(this.hf(d.cd,d)),e+=" (old session expired "+d.Yc+")");e+=". Will expire "+c.valueOf();b.b.info(e);d=new b.Ua(b.bc.ad(),
c);this.o.sa(new b.Event(this.D.R(),b.Event.la.Sg,a,d.Za))}else d.cd=a,d.Yc=c;this.o.ue(b.j.w.Jb,d);return d.Za};b.hc.prototype.Ah=function(){var a=this.o.Bb(b.j.w.Jb);null!=a&&(this.o.sa(this.hf(Date.now(),a)),this.o.ji(b.j.w.Jb))};b.Hc=function(){};b.j=function(a,b){this.Ld=a;this.ma=b};b.Hc.Ch=function(a){var c=!1;try{if(localStorage&&localStorage.getItem)try{localStorage.setItem(b.j.w.Fd,!0),localStorage.getItem(b.j.w.Fd)&&(localStorage.removeItem(b.j.w.Fd),c=!0)}catch(e){if(("QuotaExceededError"===
e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0<localStorage.length)c=!0;else throw e;}}catch(e){b.b.info("Local Storage not supported!")}var d=b.Hc.ah(),d=new b.j.zc(a,d,c);return new b.j(d,c?new b.j.Gb(a):new b.j.Fb)};b.Hc.ah=function(){return navigator.cookieEnabled||"cookie"in document&&(0<document.cookie.length||-1<(document.cookie="test").indexOf.call(document.cookie,"test"))};b.j.w={Fd:"ab.test",We:"ab.storage.userId",ud:"ab.storage.deviceId",Jb:"ab.storage.sessionId",xc:"ab.storage.events",
gb:"ab.storage.attributes",vd:"ab.storage.device",Bd:"ab.storage.pushToken",Ub:"ab.storage.cardImpressions",xd:"ab.storage.lastInAppMessageRefresh",Qe:"ab.storage.serverConfig",Gd:"ab.storage.triggers",yd:"ab.storage.lastTriggeredTime",Cc:"ab.storage.lastTriggeredTimesById",Dc:"ab.storage.lastTriggerEventDataById"};b.j.prototype.ue=function(a,c){var d=c;null!=c&&c instanceof b.Ua&&(d=c.T());this.Ld.Oa(a,d)};b.j.prototype.Bb=function(a){return b.Ua.ha(this.Ld.ua(a))};b.j.prototype.ji=function(a){this.Ld.remove(a)};
b.j.prototype.Lf=function(a){if(null==a||0===a.length)return!1;b.C.isArray(a)||(a=[a]);var c=this.ma.ua(b.j.w.xc);null!=c&&b.C.isArray(c)||(c=[]);for(var d=0;d<a.length;d++)c.push(a[d].T());return this.ma.Oa(b.j.w.xc,c)};b.j.prototype.sa=function(a){return null==a?!1:this.Lf([a])};b.j.prototype.wf=function(){var a=this.ma.ua(b.j.w.xc);this.ma.remove(b.j.w.xc);null==a&&(a=[]);var c=[],d=!1;if(b.C.isArray(a))for(var e=0;e<a.length;e++)b.Event.Df(a[e])?c.push(b.Event.ha(a[e])):d=!0;else d=!0;d&&c.push(new b.Event(null,
b.Event.la.xg,Date.now(),null,{e:"Stored events could not be deserialized as ab.Events, serialized values were of type "+typeof a+": "+JSON.stringify(a)}));return c};b.j.prototype.va=function(a,c){b.C.fb(b.j.w,a,"StorageManager cannot store object.","ab.StorageManager.KEYS")&&this.ma.Oa(a,c)};b.j.prototype.Fa=function(a){return b.C.fb(b.j.w,a,"StorageManager cannot retrieve object.","ab.StorageManager.KEYS")?this.ma.ua(a):!1};b.j.prototype.cb=function(a){b.C.fb(b.j.w,a,"StorageManager cannot remove object.",
"ab.StorageManager.KEYS")&&this.ma.remove(a)};b.j.prototype.Td=function(a){return a||"ab.storage.attributes.anonymous_user"};b.j.prototype.Gf=function(a){var c=this.ma.ua(b.j.w.gb);null==c&&(c={});var d=this.Td(a[b.m.ic]),e;for(e in a)e===b.m.ic||null!=c[d]&&null!=c[d][e]||this.Qf(a[b.m.ic],e,a[e])};b.j.prototype.Qf=function(a,c,d){var e=this.ma.ua(b.j.w.gb);null==e&&(e={});var f=this.Td(a),k=e[f];null==k&&(k={},null!=a&&(k[b.m.ic]=a));if(c===b.m.ze){null==k[c]&&(k[c]={});for(var g in d){a=d[g];var l=
k[c][g],h=null;if(K(a)){if(void 0!==a[b.m.ib]&&(h=ia(a[b.m.ib],l),!h&&null!==h)||void 0!==a[b.m.Ca]&&(h=ha(a[b.m.Ca],l),!h&&null!==h)||void 0!==a[b.m.Da]&&(h=ga(a[b.m.Da],l),!h&&null!==h))return!1}else h=d[g];k[c][g]=h}}else k[c]=d;e[f]=k;return this.ma.Oa(b.j.w.gb,e)};b.j.prototype.Ih=function(){var a=this.ma.ua(b.j.w.gb);this.ma.remove(b.j.w.gb);var c=[],d;for(d in a)null!=a[d]&&c.push(a[d]);return c};b.j.prototype.mh=function(a){var c=this.ma.ua(b.j.w.gb);if(null!=c){var d=this.Td(null),e=c[d];
null!=e&&(c[d]=void 0,this.ma.Oa(b.j.w.gb,c),e[b.m.ic]=a,this.Gf(e))}d=this.Bb(b.j.w.Jb);c=null;null!=d&&(c=d.Za);d=this.wf();if(null!=d)for(e=0;e<d.length;e++){var f=d[e];null==f.eb&&f.sessionId==c&&(f.eb=a);this.sa(f)}};b.j.Gb=function(a){this.Wa=a};b.j.Gb.prototype.sb=function(a){return a+"."+this.Wa};b.j.Gb.prototype.Oa=function(a,c){var d={v:c};try{return localStorage.setItem(this.sb(a),JSON.stringify(d)),!0}catch(e){return b.b.info("Storage failure: "+e.message),!1}};b.j.Gb.prototype.ua=function(a){try{var c=
JSON.parse(localStorage.getItem(this.sb(a)));return null==c?null:c.v}catch(d){return b.b.info("Storage retrieval failure: "+d.message),null}};b.j.Gb.prototype.remove=function(a){try{localStorage.removeItem(this.sb(a))}catch(c){return b.b.info("Storage removal failure: "+c.message),!1}};b.j.Db=function(a){this.Wa=a;this.ef=this.fh()};b.j.Db.prototype.sb=function(a){return a+"."+this.Wa};b.j.Db.prototype.fh=function(){for(var a=0,b=document.domain,d=b.split("."),e="ab._gd"+Date.now();a<d.length-1&&
-1===document.cookie.indexOf(e+"="+e);)a++,b="."+d.slice(-1-a).join("."),document.cookie=e+"="+e+";domain="+b+";";document.cookie=e+"=;expires="+(new Date(0)).toGMTString()+";domain="+b+";";return b};b.j.Db.prototype.Oa=function(a,c){var d=new Date;d.setTime(d.getTime()+6311388E5);var d="expires="+d.toUTCString(),e="domain="+this.ef,d=this.sb(a)+"="+encodeURIComponent(JSON.stringify(c))+";"+d+";"+e+";path=/";if(4093<=d.length)return b.b.info("Storage failure: string is "+d.length+" chars which is too large to store as a cookie."),
!1;document.cookie=d;return!0};b.j.Db.prototype.ua=function(a){for(var c=this.sb(a)+"=",d=document.cookie.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "===f.charAt(0);)f=f.substring(1);if(0===f.indexOf(c))try{return JSON.parse(decodeURIComponent(f.substring(c.length,f.length)))}catch(k){b.b.info("Storage retrieval failure: "+k.message);this.remove(a);break}}return null};b.j.Db.prototype.remove=function(a){a=this.sb(a)+"=;expires="+(new Date(0)).toGMTString()+";domain="+this.ef;document.cookie=
a;document.cookie=a+";path=/"};b.j.Fb=function(){this.Od={};this.bf=5242880};b.j.Fb.prototype.Oa=function(a,c){var d={value:c},e=this.jh(c);if(e>this.bf)return b.b.info("Storage failure: object is \u2248"+e+" bytes which is greater than the max of "+this.bf),!1;this.Od[a]=d;return!0};b.j.Fb.prototype.jh=function(a){var b=[];a=[a];for(var d=0;a.length;){var e=a.pop();if("boolean"===typeof e)d+=4;else if("string"===typeof e)d+=2*e.length;else if("number"===typeof e)d+=8;else if("object"===typeof e&&
-1===b.indexOf(e)){b.push(e);for(var f in e)a.push(e[f])}}return d};b.j.Fb.prototype.ua=function(a){a=this.Od[a];return null==a?null:a.value};b.j.Fb.prototype.remove=function(a){this.Od[a]=null};b.j.zc=function(a,c,d){this.Ka=[];c&&this.Ka.push(new b.j.Db(a));d&&this.Ka.push(new b.j.Gb(a));this.Ka.push(new b.j.Fb)};b.j.zc.prototype.Oa=function(a,b){for(var c=!0,e=0;e<this.Ka.length;e++)c=this.Ka[e].Oa(a,b)&&c;return c};b.j.zc.prototype.ua=function(a){for(var b=0;b<this.Ka.length;b++){var d=this.Ka[b].ua(a);
if(null!=d)return d}return null};b.j.zc.prototype.remove=function(a){for(var b=0;b<this.Ka.length;b++)this.Ka[b].remove(a)};b.Ea=function(){this.mc={}};b.Ea.prototype.tb=function(a){if("function"!==typeof a)return null;var c=b.bc.ad();this.mc[c]=a;return c};b.Ea.prototype.oa=function(a){delete this.mc[a]};b.Ea.prototype.na=function(){this.mc={}};b.Ea.prototype.$a=function(a){var b=[],d;for(d in this.mc)b.push(this.mc[d](a));return b};b.Lb=function(a,b){this.Nb=a;this.o=b};b.Lb.prototype.R=function(){var a=
this.o.Bb(b.j.w.We);return null!=a?a.Za:null};b.Lb.prototype.Rh=function(a){var c=null==this.R();this.o.ue(b.j.w.We,new b.Ua(a));c&&this.o.mh(a)};b.Lb.prototype.Sb=function(a,c){if(this.Nb.nh(a))return b.b.info('Custom Attribute "'+a+'" is blacklisted, ignoring.'),!1;var d={};d[a]=c;return this.ea(b.m.ze,d)};b.Lb.prototype.ea=function(a,b){return this.o.Qf(this.R(),a,b)};b.Lb.prototype.vc=function(a,c,d){this.ea("push_token",a);this.ea("custom_push_public_key",c);this.ea("custom_push_user_auth",d);
null==a?this.o.cb(b.j.w.Bd):this.o.va(b.j.w.Bd,[a,c,d])};b.rd={rg:"invalid_api_key",cg:"blacklisted",Hg:"no_device_identifier"};b.B=function(a,b,d,e,f,k,g,l,h,m,n,r,t){this.id=a;this.viewed=b||!1;this.title=d||"";this.imageUrl=e;this.description=f||"";this.created=k;this.updated=g;this.categories=l||[];this.expiresAt=h;this.url=m;this.linkText=n;r=parseFloat(r);this.aspectRatio=isNaN(r)?null:r;this.extras=t;this.Ya=this.jc=!1;this.qa=null};b.B.prototype.Qc=function(){null==this.qa&&(this.qa=new b.Ea);
return this.qa};b.B.prototype.od=function(a){return this.Qc().tb(a)};b.B.prototype.oa=function(a){this.Qc().oa(a)};b.B.prototype.na=function(){this.Qc().na()};b.B.prototype.pe=function(){return this.jc?!1:this.viewed=this.jc=!0};b.B.prototype.uc=function(){return this.Ya?!1:(this.Ya=!0,this.Qc().$a(),this.viewed=!0)};b.B.ka={bg:"captioned_image",Ug:"text_announcement",Dg:"short_news",ag:"banner_image"};b.B.Ri={Oi:"ADVERTISING",Pi:"ANNOUNCEMENTS",Ti:"NEWS",Wi:"SOCIAL"};b.Vb=function(a,c,d,e,f,k,g,
l,h,m,n,r,t){b.B.call(this,a,c,d,e,f,k,g,l,h,m,n,r,t)};b.Pa(b.Vb,b.B);b.Wb=function(a,c,d,e,f,k,g,l,h,m,n,r,t){b.B.call(this,a,c,d,e,f,k,g,l,h,m,n,r,t)};b.Pa(b.Wb,b.B);b.Banner=function(a,c,d,e,f,k,g,l,h,m,n){b.B.call(this,a,c,null,d,null,e,f,k,g,l,h,m,n)};b.Pa(b.Banner,b.B);b.B.F=function(a){var c=a.id,d=a.type,e=a.viewed,f=a.title,k=a.image,g=a.description,l=b.N.Qb(a.created),h=b.N.Qb(a.updated),m=a.categories,n=b.N.Qb(a.expires_at),r=a.url,t=a.domain,v=a.aspect_ratio;a=a.extras;return d===b.B.ka.Ug||
d===b.B.ka.Dg?new b.Wb(c,e,f,k,g,l,h,m,n,r,t,v,a):d===b.B.ka.bg?new b.Vb(c,e,f,k,g,l,h,m,n,r,t,v,a):d===b.B.ka.ag?new b.Banner(c,e,k,l,h,m,n,r,t,v,a):null};b.Cb=function(a){this.triggerId=a};b.Cb.F=function(a){return new this(a.trigger_id)};b.Fe=function(a,b,d,e,f,k,g){this.id=a;this.Vc=b;this.rh=d;this.ai=e;this.mi=f;this.locale=k;this.Fi=g};b.Fe.prototype.ub=function(){return{browser:this.Vc,browser_version:this.rh,os_version:this.ai,resolution:this.mi,locale:this.locale,time_zone:this.Fi}};b.Event=
function(a,b,d,e,f){this.eb=a;this.type=b;this.time=d||Date.now();this.sessionId=e;this.data=f};b.Event.la={CustomEvent:"ce",wg:"p",Kg:"pc",Vi:"ca",yg:"i",xg:"ie",fg:"ci",eg:"cc",Sg:"ss",Rg:"se",vg:"si",ug:"sc",tg:"sbc",gg:"iec",Ag:"lr"};b.Event.prototype.ub=function(){var a={name:this.type,time:b.N.Wc(this.time),data:this.data||{},session_id:this.sessionId};null!=this.eb&&(a.user_id=this.eb);return a};b.Event.prototype.T=function(){return{u:this.eb,t:this.type,ts:this.time,s:this.sessionId,d:this.data}};
b.Event.Df=function(a){return null!=a&&b.C.Wh(a)&&null!=a.t&&""!==a.t};b.Event.ha=function(a){return new b.Event(a.u,a.t,a.ts,a.s,a.d)};b.G=function(a,b){this.cards=a;this.lastUpdated=b};b.G.prototype.Qh=function(){for(var a=0,b=0;b<this.cards.length;b++)this.cards[b].viewed||a++;return a};b.Ac=function(a,b,d,e,f,k){this.eb=a;this.ki=b;this.message=d;this.Yh=e;this.Hh=f;this.appVersion=k};b.Ac.prototype.ub=function(){var a={message:this.message,is_bug:!!this.Yh,reply_to:this.ki,device:this.Hh,app_version:this.appVersion};
null!=this.eb&&(a.user_id=this.eb);return a};b.Ac.Li=function(a,c){return b.K.Cf(a)?null==c||""===c.trim()?(b.b.error("Feedback requires a non-empty message."),!1):!0:(b.b.error('Feedback requires a valid RFC-5322 email address - "'+a+'" is not valid.'),!1)};b.Ua=function(a,c,d){null==a&&(a=b.bc.ad());null==d&&(d=Date.now());this.Za=a;this.vf=d;this.cd=Date.now();this.Yc=c};b.Ua.prototype.T=function(){return{g:this.Za,e:this.Yc,c:this.vf,l:this.cd}};b.Ua.ha=function(a){if(null==a||null==a.g)return null;
var c=new b.Ua(a.g,a.e,a.c);c.cd=a.l;return c};b.f=function(a,c,d,e,f,k,g,h,p,m,n,r,t,v,C,M,x,w,F,G,u,y,z,A,H,I,D,E,B){this.message=a;this.messageAlignment=c||b.f.Ve.CENTER;this.duration=r||5E3;this.slideFrom=d||b.f.Gc.BOTTOM;this.extras=e||[];this.campaignId=f;this.cardId=k;this.triggerId=g;this.clickAction=h||b.f.Ra.NONE;this.uri=p;this.openTarget=m||b.f.Ec.NONE;this.dismissType=n||b.f.ac.AUTO_DISMISS;this.icon=t;this.imageUrl=v;this.imageStyle=C||b.f.Bc.TOP;this.iconColor=M||b.f.xa.Ic;this.iconBackgroundColor=
x||b.f.xa.xe;this.backgroundColor=w||b.f.xa.Ic;this.textColor=F||b.f.xa.qd;this.closeButtonColor=G||b.f.xa.qd;this.animateIn=u;null==this.animateIn&&(this.animateIn=!0);this.animateOut=y;null==this.animateOut&&(this.animateOut=!0);this.header=z;this.headerAlignment=A||b.f.Ve.CENTER;this.headerTextColor=H||b.f.xa.qd;this.frameColor=I||b.f.xa.Ng;this.buttons=D||[];this.cropType=E||b.f.Xb.Si;this.orientation=B;this.Ze=this.Ya=this.jc=this.Zd=!1;this.qa=new b.Ea;this.Kc=new b.Ea};b.f.prototype.od=function(a){return this.qa.tb(a)};
b.f.prototype.Ci=function(a){return this.Kc.tb(a)};b.f.prototype.oa=function(a){this.qa.oa(a);this.Kc.oa(a)};b.f.prototype.na=function(){this.qa.na();this.Kc.na()};b.f.prototype.pe=function(){return this.jc?!1:this.jc=!0};b.f.prototype.uc=function(){return this.Ya?!1:(this.Ya=!0,this.qa.$a(),!0)};b.f.prototype.oe=function(){this.Ze||(this.Ze=!0,this.Kc.$a())};b.f.xa={qd:4278190080,Ic:4294967295,xe:4278219733,Eg:3858759680,Ng:3224580915};b.f.ga=function(a,c,d,e,f,k){this.text=a||"";this.backgroundColor=
c||b.f.xa.xe;this.textColor=d||b.f.xa.Ic;this.clickAction=e||b.f.Ra.NEWS_FEED;this.uri=f;null==k&&(k=b.f.ga.De);this.id=k;this.Ya=!1;this.qa=new b.Ea};b.f.ga.De=-1;b.f.ga.prototype.od=function(a){return this.qa.tb(a)};b.f.ga.prototype.oa=function(a){this.qa.oa(a)};b.f.ga.prototype.na=function(){this.qa.na()};b.f.ga.prototype.uc=function(){return this.Ya?!1:(this.Ya=!0,this.qa.$a(),!0)};b.f.ga.F=function(a){return new b.f.ga(a.text,a.bg_color,a.text_color,a.click_action,a.uri,a.id)};b.f.Gc={TOP:"TOP",
BOTTOM:"BOTTOM"};b.f.Ra={NEWS_FEED:"NEWS_FEED",URI:"URI",NONE:"NONE"};b.f.ac={AUTO_DISMISS:"AUTO_DISMISS",MANUAL:"SWIPE"};b.f.Ec={NONE:"NONE",BLANK:"BLANK"};b.f.Bc={TOP:"TOP",GRAPHIC:"GRAPHIC"};b.f.ia={PORTRAIT:"PORTRAIT",LANDSCAPE:"LANDSCAPE"};b.f.Ve={START:"START",CENTER:"CENTER",END:"END"};b.f.Xb={CENTER_CROP:"CENTER_CROP",FIT_CENTER:"FIT_CENTER"};b.f.ka={Qg:"SLIDEUP",Cg:"MODAL",og:"FULL"};b.ob=function(a,c,d,e,f,k,g,h,p,m,n,r,t,v,C,u,x,w,F,G){w=w||b.f.xa.Ic;x=x||b.f.xa.Eg;b.f.call(this,a,c,d,
e,f,k,g,h,p,m,n,r,t,v,null,C,u,x,w,w,F,G)};b.Pa(b.ob,b.f);b.ob.prototype.ka=b.f.ka.Qg;b.Ha=function(a,c,d,e,f,k,g,h,p,m,n,r,t,v,C,u,x,w,F,G,y,z,A,B,H,I,D){m=m||b.f.ac.MANUAL;D=D||b.f.Xb.FIT_CENTER;b.f.call(this,a,c,null,d,e,f,k,g,h,p,m,n,r,t,v,C,u,x,w,F,G,y,z,A,B,H,I,D)};b.Pa(b.Ha,b.f);b.Ha.prototype.ka=b.f.ka.Cg;b.Ga=function(a,c,d,e,f,k,g,h,p,m,n,r,t,v,C,u,x,w,F,G,y,z,A,B,H,I,D,E){m=m||b.f.ac.MANUAL;E=E||b.f.ia.PORTRAIT;D=D||b.f.Xb.CENTER_CROP;b.f.call(this,a,c,null,d,e,f,k,g,h,p,m,n,r,t,v,C,u,
x,w,F,G,y,z,A,B,H,I,D,E)};b.Pa(b.Ga,b.f);b.Ga.prototype.ka=b.f.ka.og;b.f.F=function(a){if(a.is_control)return b.Cb.F(a);var c=a.type;null!=c&&(c=c.toUpperCase());var d=a.message,e=a.text_align_message,f=a.slide_from,k=a.extras,g=a.campaign_id,h=a.card_id,p=a.trigger_id,m=a.click_action,n=a.uri,r=a.open_target,t=a.message_close,v=a.duration,u=a.icon,y=a.image_url,x=a.image_style,w=a.icon_color,z=a.icon_bg_color,A=a.bg_color,B=a.text_color,K=a.close_btn_color,N=a.header,aa=a.text_align_header,H=a.header_text_color,
I=a.frame_color,D=[],E=a.btns;null==E&&(E=[]);for(var O=0;O<E.length;O++)D.push(b.f.ga.F(E[O]));var E=a.crop_type,O=a.orientation,W=a.animate_in;a=a.animate_out;if(c===b.Ha.prototype.ka)return new b.Ha(d,e,k,g,h,p,m,n,r,t,v,u,y,x,w,z,A,B,K,W,a,N,aa,H,I,D,E);if(c===b.Ga.prototype.ka)return new b.Ga(d,e,k,g,h,p,m,n,r,t,v,u,y,x,w,z,A,B,K,W,a,N,aa,H,I,D,E,O);if(c===b.ob.prototype.ka)return new b.ob(d,e,f,k,g,h,p,m,n,r,t,v,u,y,w,z,A,B,W,a);b.b.error("Ignoring message with unkown type "+c)};b.Ia=function(){this.M=
!1;this.L=void 0};b.Kb=function(a,b,d,e){this.ge=a||0;this.xf=b||[];this.tf=d||[];this.Kf=e||[]};b.Kb.prototype.T=function(){return{l:this.ge,e:this.xf,a:this.tf,p:this.Kf}};b.Kb.ha=function(a){return new b.Kb(a.l,a.e,a.a,a.p)};b.Hd=function(a,b){this.Wf=a;this.Yf=b};b.Hd.prototype.di=function(a){null!=a&&null!=a.templated_message&&(a=a.templated_message,"inapp"===a.type&&(a=b.f.F(a.data),"function"===typeof this.Yf&&null!=a&&this.Yf(a)))};b.Hd.F=function(a,b){return null==a||null==a.trigger_id?null:
new this(a.trigger_id,b)};b.h=function(a,b){this.type=a;this.data=b};b.h.prototype.Bf=function(a,c){return b.Ja[this.type]===a&&(null==this.data||this.data.za(c))};b.h.rf=function(a,c){var d=null;try{d=window.atob(a)}catch(e){return b.b.info("Failed to unencode analytics id "+a+": "+e.message),!1}return c===d.split("_")[0]};b.h.F=function(a){var c=a.type,d;switch(c){case b.h.I.OPEN:d=null;break;case b.h.I.mb:d=b.h.ec.F(a.data);break;case b.h.I.Ad:d=b.h.fc.F(a.data);break;case b.h.I.Ib:d=b.h.gc.F(a.data);
break;case b.h.I.jb:d=b.h.Yb.F(a.data);break;case b.h.I.sd:d=b.h.Zb.F(a.data);break;case b.h.I.kb:d=b.h.cc.F(a.data);break;case b.h.I.Va:d=null}return new this(c,d)};b.h.I={OPEN:"open",mb:"purchase",Ad:"purchase_property",Ib:"push_click",jb:"custom_event",sd:"custom_event_property",kb:"iam_click",Va:"test"};b.U={OPEN:"open",mb:"purchase",Ib:"push_click",jb:"custom_event",kb:"iam_click",Va:"test"};b.Ja={};b.Ja[b.h.I.OPEN]=b.U.OPEN;b.Ja[b.h.I.mb]=b.U.mb;b.Ja[b.h.I.Ad]=b.U.mb;b.Ja[b.h.I.Ib]=b.U.Ib;b.Ja[b.h.I.jb]=
b.U.jb;b.Ja[b.h.I.sd]=b.U.jb;b.Ja[b.h.I.kb]=b.U.kb;b.Ja[b.h.I.Va]=b.U.Va;b.h.J=function(a,c,d,e){this.Jf=a;this.ld=c;this.Ob=d;this.S=e;this.ld===b.h.J.Cd.td&&this.Ob!==b.h.J.$.Ge&&this.Ob!==b.h.J.$.Ke&&this.Ob!==b.h.J.$.Be&&this.Ob!==b.h.J.$.Ce&&(this.S=b.N.Qb(this.S))};b.h.J.F=function(a){return new this(a.property_key,a.property_type,a.comparator,a.property_value)};b.h.J.prototype.za=function(a){var c=null;null!=a&&(c=a[this.Jf]);switch(this.Ob){case b.h.J.$.lg:return null!=c&&c.valueOf()===this.S.valueOf();
case b.h.J.$.Fg:return null==c||c.valueOf()!==this.S.valueOf();case b.h.J.$.pg:return typeof c===typeof this.S&&c>this.S;case b.h.J.$.Ge:return this.ld===b.h.J.Cd.td?null!=c&&b.C.Na(c)&&b.N.Of(c)<=this.S:typeof c===typeof this.S&&c>=this.S;case b.h.J.$.zg:return typeof c===typeof this.S&&c<this.S;case b.h.J.$.Ke:return this.ld===b.h.J.Cd.td?null!=c&&b.C.Na(c)&&b.N.Of(c)>=this.S:typeof c===typeof this.S&&c<=this.S;case b.h.J.$.Bg:return null!=c&&"string"===typeof c&&typeof c===typeof this.S&&null!=
c.match(this.S);case b.h.J.$.mg:return null!=c;case b.h.J.$.ig:return null==c;case b.h.J.$.Be:return null!=c&&b.C.Na(c)&&b.N.Pf(c)<this.S;case b.h.J.$.Ce:return null!=c&&b.C.Na(c)&&b.N.Pf(c)>this.S;case b.h.J.$.Gg:return null==c||typeof c!==typeof this.S||"string"!==typeof c||null==c.match(this.S)}return!1};b.h.J.prototype.T=function(){var a=this.S;b.C.Na(this.S)&&(a=b.N.Wc(a.valueOf()));return{k:this.Jf,t:this.ld,c:this.Ob,v:a}};b.h.J.ha=function(a){return new this(a.k,a.t,a.c,a.v)};b.h.J.$={lg:1,
Fg:2,pg:3,Ge:4,zg:5,Ke:6,Bg:10,mg:11,ig:12,Be:15,Ce:16,Gg:17};b.h.J.Cd={Qi:"boolean",Ui:"number",Xi:"string",td:"date"};b.h.Ta=function(a){this.filters=a};b.h.Ta.F=function(a){if(null==a||!b.C.isArray(a))return null;for(var c=[],d=0;d<a.length;d++){for(var e=[],f=a[d],k=0;k<f.length;k++)e.push(b.h.J.F(f[k]));c.push(e)}return new this(c)};b.h.Ta.prototype.za=function(a){for(var b=!0,d=0;d<this.filters.length;d++){for(var e=this.filters[d],f=!1,k=0;k<e.length;k++)if(e[k].za(a)){f=!0;break}if(!f){b=
!1;break}}return b};b.h.Ta.prototype.T=function(){for(var a=[],b=0;b<this.filters.length;b++){for(var d=this.filters[b],e=[],f=0;f<d.length;f++)e.push(d[f].T());a.push(e)}return a};b.h.Ta.ha=function(a){for(var c=[],d=0;d<a.length;d++){for(var e=[],f=a[d],k=0;k<f.length;k++)e.push(b.h.J.ha(f[k]));c.push(e)}return new this(c)};b.h.ec=function(a){this.zb=a};b.h.ec.prototype.za=function(a){return null==this.zb||a[0]===this.zb};b.h.ec.F=function(a){return new this(a?a.product_id:null)};b.h.fc=function(a,
b){this.zb=a;this.Ab=b};b.h.fc.prototype.za=function(a){if(null==this.zb||null==this.Ab)return!1;var b=a[1];return a[0]===this.zb&&this.Ab.za(b)};b.h.fc.F=function(a){return new this(a?a.product_id:null,a?b.h.Ta.F(a.property_filters):null)};b.h.gc=function(a){this.vb=a};b.h.gc.prototype.za=function(a){return null==this.vb?!0:b.h.rf(a[0],this.vb)};b.h.gc.F=function(a){return new this(a?a.campaign_id:null)};b.h.Yb=function(a){this.wb=a};b.h.Yb.prototype.za=function(a){return null==this.wb||this.wb===
a[0]};b.h.Yb.F=function(a){return new this(a?a.event_name:null)};b.h.Zb=function(a,b){this.wb=a;this.Ab=b};b.h.Zb.prototype.za=function(a){if(null==this.wb||null==this.Ab)return!1;var b=a[1];return a[0]===this.wb&&this.Ab.za(b)};b.h.Zb.F=function(a){return new this(a?a.event_name:null,a?b.h.Ta.F(a.property_filters):null)};b.h.cc=function(a,b){this.vb=a;this.qc=b};b.h.cc.prototype.za=function(a){if(null==this.vb)return!1;var c=b.h.rf(a[0],this.vb);if(!c)return!1;var d=null==this.qc||0===this.qc.length;
if(null!=this.qc)for(var e=0;e<this.qc.length;e++)if(this.qc[e]===a[1]){d=!0;break}return c&&d};b.h.cc.F=function(a){return new this(a?a.id:null,a?a.buttons:null)};b.h.prototype.T=function(){return{t:this.type,d:this.data?this.data.T():null}};b.h.ec.prototype.T=function(){return this.zb};b.h.fc.prototype.T=function(){return{id:this.zb,pf:this.Ab.T()}};b.h.gc.prototype.T=function(){return this.vb};b.h.Yb.prototype.T=function(){return this.wb};b.h.Zb.prototype.T=function(){return{e:this.wb,pf:this.Ab.T()}};
b.h.cc.prototype.T=function(){return this.vb};b.h.ha=function(a){var c;switch(a.t){case b.h.I.OPEN:c=null;break;case b.h.I.mb:c=new b.h.ec(a.d);break;case b.h.I.Ad:c=a.d||{};c=new b.h.fc(c.id,b.h.Ta.ha(c.pf||[]));break;case b.h.I.Ib:c=new b.h.gc(a.d);break;case b.h.I.jb:c=new b.h.Yb(a.d);break;case b.h.I.sd:c=a.d||{};c=new b.h.Zb(c.e,b.h.Ta.ha(c.pf||[]));break;case b.h.I.kb:c=new b.h.cc(a.d);break;case b.h.I.Va:c=null}return new this(a.t,c)};b.X=function(a,c,d,e,f,k,g,h,p,m,n,r){this.id=a;this.Pb=
c||[];void 0===d&&(d=null);this.startTime=d;void 0===e&&(e=null);this.endTime=e;this.le=f||0;this.type=k;void 0===m&&(m=null);this.pd=m;this.data=g;this.Xc=h||0;null==p&&(p=b.X.Ue);this.ne=p;this.Hf=n;this.qb=r||null};b.X.prototype.Uh=function(a){return null==this.qb||this.ne!==b.X.Ue&&a-this.qb>=1E3*this.ne};b.X.prototype.me=function(a){this.qb=a};b.X.prototype.Zh=function(){return Math.max(this.qb+1E3*this.Xc-Date.now(),0)};b.X.prototype.Ef=function(){var a=Date.now()-this.qb,c=null==this.qb||isNaN(a)||
null==this.pd||a<this.pd;c||b.b.info("Trigger action "+this.type+" is no longer eligible for display - fired "+a+"ms ago and has a timeout of "+this.pd+"ms");return c};b.X.Ue=-1;b.X.I={sg:"inapp",Tg:"templated_iam"};b.X.F=function(a){for(var c=a.id,d=[],e=0;e<a.trigger_condition.length;e++)d.push(b.h.F(a.trigger_condition[e]));var e=b.N.Qb(a.start_time),f=b.N.Qb(a.end_time),k=a.priority,g=a.type,h=a.delay,p=a.re_eligibility,m=a.timeout,n=a.data;a=a.min_seconds_since_last_trigger;return b.C.fb(b.X.I,
g,"Could not construct Trigger from server data","ab.Trigger.Types")?new this(c,d,e,f,k,g,n,h,p,m,a):null};b.X.prototype.T=function(){for(var a=[],b=0;b<this.Pb.length;b++)a.push(this.Pb[b].T());return{i:this.id,c:a,s:this.startTime,e:this.endTime,p:this.le,t:this.type,da:this.data,d:this.Xc,r:this.ne,tm:this.pd,ss:this.Hf,lt:this.qb}};b.X.ha=function(a){for(var c=[],d=0;d<a.c.length;d++)c.push(b.h.ha(a.c[d]));return new b.X(a.i,c,b.N.Mf(a.s),b.N.Mf(a.e),a.p,a.t,a.da,a.d,a.r,a.tm,a.ss,a.lt)};b.m=
function(a,b){this.D=a;this.Nd=b};b.m.Jg=/^[0-9 .\\(\\)\\+\\-]+$/;b.m.He={MALE:"m",FEMALE:"f",OTHER:"o"};b.m.dc={OPTED_IN:"opted_in",SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed"};b.m.ic="user_id";b.m.ze="custom";b.m.ib="inc";b.m.Ca="add";b.m.Da="remove";b.m.prototype.R=function(){return this.D.R()};b.m.prototype.ui=function(a){return b.K.wc(a,"set first name","the firstName")?this.D.ea("first_name",a):!1};b.m.prototype.yi=function(a){return b.K.wc(a,"set last name","the lastName")?this.D.ea("last_name",
a):!1};b.m.prototype.si=function(a){return b.K.Cf(a)?this.D.ea("email",a):(b.b.error('Cannot set email address - "'+a+'" did not pass RFC-5322 validation.'),!1)};b.m.prototype.wi=function(a){if(null==a)return!1;a=a.toLowerCase();return b.C.fb(b.m.He,a,'Gender "'+a+'" is not a valid gender.',"ab.User.Genders")?this.D.ea("gender",a):!1};b.m.prototype.ri=function(a,c,d){a=parseInt(a);c=parseInt(c);d=parseInt(d);return isNaN(a)||isNaN(c)||isNaN(d)||12<c||1>c||31<d||1>d?(b.b.error("Cannot set date of birth - parameters should comprise a valid date e.g. setDateOfBirth(1776, 7, 4);"),
!1):this.D.ea("dob",""+a+"-"+c+"-"+d)};b.m.prototype.pi=function(a){return b.K.wc(a,"set country","the country")?this.D.ea("country",a):!1};b.m.prototype.xi=function(a){return b.K.wc(a,"set home city","the homeCity")?this.D.ea("home_city",a):!1};b.m.prototype.ti=function(a){return b.C.fb(b.m.dc,a,'Email notification setting "'+a+'" is not a valid subscription type.',"ab.User.NotificationSubscriptionTypes")?this.D.ea("email_subscribe",a):!1};b.m.prototype.te=function(a){return b.C.fb(b.m.dc,a,'Push notification setting "'+
a+'" is not a valid subscription type.',"ab.User.NotificationSubscriptionTypes")?this.D.ea("push_subscribe",a):!1};b.m.prototype.zi=function(a){return b.K.wc(a,"set phone number","the phoneNumber")?null!=a&&a.match(b.m.Jg)?this.D.ea("phone",a):(b.b.error('Cannot set phone number - "'+a+'" did not pass validation.'),!1):!1};b.m.prototype.oi=function(a){return this.D.ea("image_url",a)};b.m.prototype.re=function(a,c,d,e,f){if(null==a||null==c)return b.b.error("Cannot set last-known location - latitude and longitude are required."),
!1;a=parseFloat(a);c=parseFloat(c);null!=d&&(d=parseFloat(d));null!=e&&(e=parseFloat(e));null!=f&&(f=parseFloat(f));return isNaN(a)||isNaN(c)||null!=d&&isNaN(d)||null!=e&&isNaN(e)||null!=f&&isNaN(f)?(b.b.error("Cannot set last-known location - all supplied parameters must be numeric."),!1):90<a||-90>a||180<c||-180>c?(b.b.error("Cannot set last-known location - latitude and longitude are bounded by \u00b190 and \u00b1180 respectively."),!1):null!=d&&0>d||null!=f&&0>f?(b.b.error("Cannot set last-known location - accuracy and altitudeAccuracy may not be negative."),
!1):this.Nd.re(this.Yi,a,c,e,d,f).M};b.m.prototype.Sb=function(a,c){if(!b.K.Ba(a,"set custom user attribute","the given key"))return!1;var d=typeof c,e=b.C.Na(c),f=b.C.isArray(c);if("number"!==d&&"boolean"!==d&&!e&&!f&&null!=c&&!b.K.Ba(c,'set custom user attribute "'+a+'"',"the given value"))return!1;e&&(c=b.N.Vf(c));if(f)for(var k in c)if(!b.K.Ba(c[k],'set custom user attribute "'+a+'"',"the element in the given array"))return!1;return this.D.Sb(a,c)};b.m.prototype.lh=function(a,c){if(!b.K.Ba(a,
"add to custom user attribute array","the given key")||null!=c&&!b.K.Ba(c,"add to custom user attribute array","the given value"))return!1;var d={};d[b.m.Ca]=c;return this.D.Sb(a,d)};b.m.prototype.ii=function(a,c){if(!b.K.Ba(a,"remove from custom user attribute array","the given key")||null!=c&&!b.K.Ba(c,"remove from custom user attribute array","the given value"))return!1;var d={};d[b.m.Da]=c;return this.D.Sb(a,d)};b.m.prototype.Sh=function(a,c){if(!b.K.Ba(a,"increment custom user attribute","the given key"))return!1;
null==c&&(c=1);var d=parseInt(c);if(isNaN(d)||d!==parseFloat(c))return b.b.error('Cannot increment custom user attribute because the given incrementValue "'+c+'" is not an integer.'),!1;var e={};e[b.m.ib]=d;return this.D.Sb(a,e)};b.m.prototype.vc=function(a,b,d){this.D.vc(a,b,d)};b.Tb=function(){};b.Tb.prototype.bd=function(){};b.Tb.prototype.clearData=function(){};b.Eb=function(a,b){this.Nc=a;this.o=b;this.Xa=[];this.kc=null};b.Pa(b.Eb,b.Tb);b.Eb.prototype.hh=function(a){for(var c=[],d,e=this.o.Fa(b.j.w.Ub)||
{},f={},k=0;k<a.length;k++)d=a[k],d=b.B.F(d),null!=d&&(e[d.id]&&(d.viewed=!0,f[d.id]=!0),c.push(d));this.o.va(b.j.w.Ub,f);this.Xa=c;this.kc=new Date};b.Eb.prototype.bd=function(a){null!=a&&a.feed&&(this.hh(a.feed),this.Nc.$a(new b.G(this.Xa.slice(),this.kc)))};b.Eb.prototype.Zc=function(){for(var a=[],c=new Date,d=0;d<this.Xa.length;d++)(null==this.Xa[d].expiresAt||this.Xa[d].expiresAt>=c)&&a.push(this.Xa[d]);return new b.G(a,this.kc)};b.Eb.prototype.clearData=function(){this.Xa=[];this.kc=null;this.Nc.$a(new b.G(this.Xa.slice(),
this.kc))};b.lb=function(a){this.Nc=a;this.Jd=[]};b.Pa(b.lb,b.Tb);b.lb.prototype.ih=function(a){for(var c=[],d=0;d<a.length;d++){var e=b.f.F(a[d]);null!=e&&c.push(e)}return c};b.lb.prototype.eh=function(a){null!=a&&this.Jd.push(a)};b.lb.prototype.clearData=function(){var a=this.Jd;this.Jd=[];return a};b.lb.prototype.jd=function(a){null==a&&(a=[]);a=this.clearData().concat(a);if(0<a.length){for(var c=this.Nc.$a(a.slice())||[],c=b.C.Af.apply(this,c),d=0;d<a.length;d++)a[d].Zd&&(a[d].Zd=!1,-1===c.indexOf(a[d])&&
c.push(a[d]));for(d=0;d<c.length;d++)this.eh(c[d])}};b.lb.prototype.bd=function(a){null!=a&&a.in_app_message&&this.jd(this.ih(a.in_app_message))};b.pb=function(a,c,d,e){function f(a,b,c){return function(){k.Sd(a,b,c)}}this.Xg=a;this.$e=c;this.o=d;this.Nd=e;this.ya=this.o.Fa(b.j.w.Cc)||{};this.La=this.o.Fa(b.j.w.Dc)||{};this.nc=[];a=this.o.Fa(b.j.w.Gd)||[];c=[];var k=this;for(d=0;d<a.length;d++){e=b.X.ha(a[d]);if(null!=this.ya[e.id]){e.me(this.ya[e.id]);var g=e.Zh();if(0<g){var h,p,m=this.La[e.id];
null!=m&&(h=m.Ji,null!=m.L&&b.Event.Df(m.L)&&(p=b.Event.ha(m.L)));this.nc.push(setTimeout(f(e,h,p),g))}}c.push(e)}this.ba=c;this.Lc=this.o.Fa(b.j.w.yd)||null};b.Pa(b.pb,b.Tb);b.pb.prototype.kh=function(){for(var a=[],c=0;c<this.ba.length;c++)a.push(this.ba[c].T());this.o.va(b.j.w.Gd,a)};b.pb.prototype.bd=function(a){var c=!1;if(null!=a&&a.triggers){var d={},e={};this.ba=[];for(var f=0;f<a.triggers.length;f++){var k=b.X.F(a.triggers[f]);null!=this.ya[k.id]&&(k.me(this.ya[k.id]),d[k.id]=this.ya[k.id]);
null!=this.La[k.id]&&(e[k.id]=this.La[k.id]);for(var g=0;g<k.Pb.length;g++)if(k.Pb[g].Bf(b.U.Va,null)){c=!0;break}null!=k&&this.ba.push(k)}b.C.isEqual(this.ya,d)||(this.ya=d,this.o.va(b.j.w.Cc,this.ya));b.C.isEqual(this.La,e)||(this.La=e,this.o.va(b.j.w.Dc,this.La));this.kh();c&&(b.b.info("Trigger with test condition found, firing test."),this.xb(b.U.Va));this.xb(b.U.OPEN)}};b.pb.prototype.Sd=function(a,c,d){switch(a.type){case b.X.I.sg:c=b.f.F(a.data);if(null==c){b.b.error("Could not parse trigger data for trigger "+
a.id+", ignoring.");break}a.Ef()&&this.$e.jd([c]);break;case b.X.I.Tg:var e=this,f=b.Hd.F(a.data,function(b){a.Ef()&&e.$e.jd([b])});if(null==f){b.b.error("Could not parse trigger data for trigger "+a.id+", ignoring.");break}this.Nd.Ei(f,c,d);break;default:b.b.error("Trigger "+a.id+" was of unexpected type "+a.type+", ignoring.")}};b.pb.prototype.xb=function(a,c,d){if(b.C.fb(b.U,a,"Cannot fire trigger action.","ab.TriggerEvents")){for(var e=Date.now(),f=e-this.Lc,k=!0,g=!0,h=null,p=0;p<this.ba.length;p++)if(this.ba[p].Uh(e)&&
(null==this.ba[p].startTime||this.ba[p].startTime<=e)&&(null==this.ba[p].endTime||this.ba[p].endTime>=e)&&(null==h||this.ba[p].le>h.le)){for(var m=!1,n=0;n<this.ba[p].Pb.length;n++)if(this.ba[p].Pb[n].Bf(a,c)){m=!0;break}if(m){k=!1;if(null!=this.Lc)if(a===b.U.Va)b.b.info("Ignoring minimum interval between trigger because it is a test type.");else if(m=this.ba[p].Hf,null==m&&(m=this.Xg),f<1E3*m)continue;g=!1;h=this.ba[p]}}if(k)b.b.info("Trigger event "+a+" did not match any trigger conditions.");else if(g)b.b.info("Ignoring "+
a+" trigger event because a trigger fired "+f/1E3+"s ago.");else if(null!=h){b.b.info("Firing "+h.type+" trigger action "+h.id);h.me(e);this.Lc=e;this.o.va(b.j.w.yd,e);this.ya[h.id]=e;this.o.va(b.j.w.Cc,this.ya);c={Ji:a};null!=d&&(c.L=d.T());this.La[h.id]=c;this.o.va(b.j.w.Dc,this.La);var r=this;0===h.Xc?r.Sd(h,a,d):this.nc.push(setTimeout(function(){r.Sd(h,a,d)},1E3*h.Xc))}}};b.pb.prototype.clearData=function(a){null==a&&(a=!1);this.ba=[];this.Lc=null;this.ya={};this.La={};for(var c=0;c<this.nc.length;c++)clearTimeout(this.nc[c]);
this.nc=[];a&&(this.o.cb(b.j.w.Gd),this.o.cb(b.j.w.yd),this.o.cb(b.j.w.Cc),this.o.cb(b.j.w.Dc))};b.H=function(a,b,d,e,f,k,g,h,p,m){this.Wa=a;this.Zg=b;this.Xe=d;this.Id=e;this.Wg=10;this.cf=600;this.V=f;this.Mb=k;this.D=g;this.Nb=h;this.o=p;this.Vg=m;this.Md=[]};b.H.prototype.jf=function(a){var c=this.Mb.$c(),d=c.ub(),e=this.o.Fa(b.j.w.vd);b.C.isEqual(e,d)||(a.device=d);a.api_key=this.Wa;a.time=b.N.Wc(Date.now(),!0);a.sdk_version=this.Zg;a.app_version=this.Xe;a.device_id=c.id;return a};b.H.prototype.qf=
function(a,c){if(c.error){var d=c.error;c.error===b.rd.rg?d='The given API key "'+a.api_key+'" is invalid.':c.error===b.rd.cg?d="Sorry, we are not currently accepting your requests. If you think this is in error, please contact us.":c.error===b.rd.Hg&&(d="No device identifier. This should never happen. Please contact support@appboy.com");b.b.error("Backend error: "+d);return!1}return!0};b.H.prototype.Ma=function(a,c,d,e,f,k){null==e&&(e=!0);var g=this.o.wf(),h=this.o.Ih(),p=this.Md;this.Md=[];if(!e||
0!==g.length||0!==h.length||0!==p.length||null!=a||c||d){var m=this.bh(a,c,d);if(0<g.length){c=[];for(a=0;a<g.length;a++)c.push(g[a].ub());m.events=c}0<h.length&&(m.attributes=h);if(0<p.length){c=[];for(a=0;a<p.length;a++)c.push(p[a].ub());m.feedback=c}var m=this.jf(m),n=this;b.ke.If({url:""+this.Id+"/data/",data:m,M:function(a){n.qf(m,a)&&(n.Nb.ci(a),null==m.respond_with||m.respond_with.user_id==n.D.R())&&(null!=m.device&&n.o.va(b.j.w.vd,m.device),n.Vg(a),"function"===typeof f&&f())},error:function(){n.o.Lf(g);
for(var a=0;a<h.length;a++)n.o.Gf(h[a]);"function"===typeof k&&k()},Tc:function(){e&&n.Vd()}})}else this.Vd()};b.H.prototype.Ei=function(a,c,d){var e=this.jf({});e.template={trigger_id:a.Wf,trigger_event_type:c};null!=d&&(e.template.data=d.ub());var f=this;b.ke.If({url:""+this.Id+"/template/",data:e,M:function(b){f.qf(e,b)&&a.di(b)},error:function(){b.b.error("AJAX error retrieving user personalization for message "+a.Wf)}})};b.H.prototype.bh=function(a,c,d){var e={};null!=a&&(e.in_app_message={count:a},
a===b.W.Dd&&(e.in_app_message.all=!0));c&&(e.feed=!0);d&&(e.triggers=!0);a=this.D.R();null!=a&&(e.user_id=a);e.config={config_time:this.Nb.Oh()};return{respond_with:e}};b.H.prototype.Qd=function(a){if(null==a.campaignId&&null==a.cardId&&null==a.triggerId)return b.b.info("The in-app message has no campaignId, cardId, or triggerId - not sending event info to Appboy servers."),null;var c={};null!=a.cardId&&(c.card_ids=[a.cardId]);null!=a.campaignId&&(c.campaign_ids=[a.campaignId]);null!=a.triggerId&&
(c.trigger_ids=[a.triggerId]);return c};b.H.prototype.gf=function(a){for(var b=null,d=0;d<a.length;d++)null!=a[d].id&&""!==a[d].id&&(b=b||{},b.ids=b.ids||[],b.ids.push(a[d].id));return b};b.H.prototype.Vd=function(){if(!this.Ye){this.Rd();var a=this;this.Kd=setTimeout(function(){if(document.hidden){var b=function(){document.hidden||(document.removeEventListener("visibilitychange",b,!1),a.Ma())};document.addEventListener("visibilitychange",b,!1)}else a.Ma()},1E3*this.Wg)}};b.H.prototype.Rd=function(){null!=
this.Kd&&clearTimeout(this.Kd)};b.H.prototype.ae=function(){this.Ye=!1;this.Vd()};b.H.prototype.rc=function(){this.Rd();this.Ye=!0;this.Ma(null,null,null,!1);this.Kd=null};b.H.prototype.kd=function(){var a=this.V.Mh(),c=this.V.fa(),d=!1;if(null==this.D.R()&&this.Mb.Vh())b.b.info("Not refreshing in-app messages because this is the user's first session.");else{var e=Date.now(),d=this.o.Fa(b.j.w.xd);(d=(e-(d||0))/1E3>this.cf)?this.o.va(b.j.w.xd,e):b.b.info("Not refreshing in-app messages because they were refreshed in the last "+
this.cf+" seconds.")}this.Ma(d?1:null,null,a!==c)};b.H.prototype.Wd=function(a,c){if(this.D.R()!==a){this.V.Ah();this.D.Rh(a);for(var d=0;d<c.length;d++)c[d].clearData(!0);this.o.cb(b.j.w.xd);this.o.cb(b.j.w.Ub);this.o.cb(b.j.w.vd);d=this.o.Fa(b.j.w.Bd);null!=d&&0<d.length&&this.sc().vc(d[0],d[1],d[2]);this.kd();b.b.info('Changed user to "'+a+'".')}else b.b.info('Current user is already "'+a+'". Doing nothing.')};b.H.prototype.sc=function(){return new b.m(this.D,this)};b.H.prototype.nd=function(){this.Rd();
this.V.fa();this.Ma()};b.H.prototype.md=function(){this.V.fa();this.Ma(null,!0)};b.H.prototype.qe=function(a){this.V.fa();this.Ma(a)};b.H.prototype.li=function(a,c){this.V.fa();b.b.info("Requesting explicit trigger refresh.");this.Ma(null,null,!0,null,a,c)};b.H.prototype.ie=function(a,c){var d=new b.Ia,e=this.V.fa();if(this.Nb.Jh(a))return b.b.info('Custom Event "'+a+'" is blacklisted, ignoring.'),d;d.L=new b.Event(this.D.R(),b.Event.la.CustomEvent,Date.now(),e,{n:a,p:c});d.M=this.o.sa(d.L);return d};
b.H.prototype.je=function(a,c,d,e,f){var g=new b.Ia,h=this.V.fa();if(this.Nb.bi(a))return b.b.info('Purchase "'+a+'" is blacklisted, ignoring.'),g;g.L=new b.Event(this.D.R(),b.Event.la.wg,Date.now(),h,{pid:a,c:d,p:c,q:e,pr:f});g.M=this.o.sa(g.L);return g};b.H.prototype.re=function(a,c,d,e,f,g){var k=new b.Ia,h=this.V.fa();c={latitude:c,longitude:d};null!=e&&(c.altitude=e);null!=f&&(c.ll_accuracy=f);null!=g&&(c.alt_accuracy=g);k.L=new b.Event(a,b.Event.la.Ag,Date.now(),h,c);k.M=this.o.sa(k.L);return k};
b.H.prototype.tc=function(a){var c=new b.Ia,d=this.V.fa();if(a instanceof b.Cb)c.L=new b.Event(this.D.R(),b.Event.la.gg,Date.now(),d,{trigger_ids:[a.triggerId]});else{if(!a.pe())return b.b.info("This in-app message has already received an impression. Ignoring request."),c;a=this.Qd(a);if(null==a)return c;c.L=new b.Event(this.D.R(),b.Event.la.vg,Date.now(),d,a)}c.M=this.o.sa(c.L);return c};b.H.prototype.hd=function(a){var c=new b.Ia;if(!a.uc())return b.b.info("This in-app message has already received a click. Ignoring request."),
c;var d=this.V.fa();a=this.Qd(a);if(null==a)return c;c.L=new b.Event(this.D.R(),b.Event.la.ug,Date.now(),d,a);c.M=this.o.sa(c.L);return c};b.H.prototype.gd=function(a,c){var d=new b.Ia;if(!a.uc())return b.b.info("This in-app message button has already received a click. Ignoring request."),d;var e=this.V.fa(),f=this.Qd(c);if(null==f)return d;if(a.id===b.f.ga.De)return b.b.info("This in-app message button does not have a tracking id. Not logging event to Appboy servers."),d;null!=a.id&&(f.bid=a.id);
d.L=new b.Event(this.D.R(),b.Event.la.tg,Date.now(),e,f);d.M=this.o.sa(d.L);return d};b.H.prototype.ed=function(a){for(var c=new b.Ia,d=[],e=this.o.Fa(b.j.w.Ub)||{},f=0;f<a.length;f++)a[f].pe()?d.push(a[f]):b.b.info("Card "+a[f].id+" has already logged an impression."),e[a[f].id]=!0;if(0===d.length)return b.b.info("All cards have already logged an impression. Ingoring request."),c;a=this.V.fa();d=this.gf(d);if(null==d)return c;this.o.va(b.j.w.Ub,e);c.L=new b.Event(this.D.R(),b.Event.la.fg,Date.now(),
a,d);c.M=this.o.sa(c.L);return c};b.H.prototype.dd=function(a){var c=new b.Ia;if(!a.uc())return b.b.info("Card "+a.id+" has already received a click. Ignoring request."),c;if(null==a.url||""===a.url)return b.b.info("Card "+a.id+" has no url. Not logging click to Appboy servers."),c;var d=this.V.fa();a=this.gf([a]);if(null==a)return c;c.L=new b.Event(this.D.R(),b.Event.la.eg,Date.now(),d,a);c.M=this.o.sa(c.L);return c};b.H.prototype.fd=function(){var a=new b.Ia,c=this.V.fa();a.L=new b.Event(this.D.R(),
b.Event.la.yg,Date.now(),c,{n:"feed_displayed"});a.M=this.o.sa(a.L);return a};b.H.prototype.Bh=function(a,c){var d=this.V.fa();return new b.Event(this.D.R(),b.Event.la.Kg,a,d,{cid:c})};b.H.prototype.Ni=function(){var a=u.ta.Ae.Re;(new u.ta(a,b.b)).setItem(a.Hb.hg,1,{baseUrl:this.Id,data:{api_key:this.Wa,device_id:this.Mb.$c().id}})};b.H.prototype.ve=function(a,c,d,e,f){this.V.fa();var g=new b.Ac(this.D.R(),a,c,d,this.Mb.$c().ub(),this.Xe);this.Md.push(g);this.Ma(null,null,null,null,function(){"function"===
typeof e&&e(a,c,d)},function(){"function"===typeof f&&f(a,c,d)})};b.pc={yb:function(){var a=this.Kh(navigator.userAgent||"");this.Vc=a[0]||"Unknown Browser";this.version=a[1]||"Unknown Version";this.Ig=this.ni(this.Dh)||navigator.platform;this.language=(navigator.dj||navigator.language||navigator.browserLanguage||navigator.bj||"").toLowerCase();this.Th=this.Gh(navigator.userAgent)},ni:function(a){for(var c=0;c<a.length;c++){var d=a[c].pa,e=a[c].aj;if(d)if(d=d.toLowerCase(),b.C.isArray(a[c].Z))for(e=
0;e<a[c].Z.length;e++){if(-1!==d.indexOf(a[c].Z[e].toLowerCase()))return a[c].ca}else{if(-1!==d.indexOf(a[c].Z.toLowerCase()))return a[c].ca}else if(e)return a[c].ca}},Kh:function(a){var b,d=a.match(/(konqueror|icab|crios|opera|chrome|safari|firefox|camino|msie|trident(?=\/))\/?\s*(\.?\d+(\.\d+)*)/i)||[];if(/trident/i.test(d[1]))return b=/\brv[ :]+(\.?\d+(\.\d+)*)/g.exec(a)||[],["Internet Explorer",b[1]||""];if("Chrome"===d[1]&&(b=a.match(/\b(OPR|Edge)\/(\.?\d+(\.\d+)*)/),null!=b))return b=b.slice(1),
[b[0].replace("OPR","Opera"),b[1]];d=d[2]?[d[1],d[2]]:[null,null];null!=(b=a.match(/version\/(\.?\d+(\.\d+)*)/i))&&d.splice(1,1,b[1]);if("Opera"===d[0]&&null!=(b=a.match(/mini\/(\.?\d+(\.\d+)*)/i)))return["Opera Mini",b[1]||""];"MSIE"===d[0]&&(d[0]="Internet Explorer");"CriOS"===d[0]&&(d[0]="Chrome");return d},Di:function(){return"Internet Explorer"===this.Vc?8<this.version:!0},Gh:function(a){a=a.toLowerCase();return-1!==a.indexOf("googlebot")||-1!==a.indexOf("bingbot")||-1!==a.indexOf("slurp")||
-1!==a.indexOf("duckduckbot")||-1!==a.indexOf("baiduspider")||-1!==a.indexOf("yandexbot")||-1!==a.indexOf("facebookexternalhit")||-1!==a.indexOf("sogou")||-1!==a.indexOf("ia_archiver")},Dh:[{pa:navigator.platform,Z:"Win",ca:"Windows"},{pa:navigator.platform,Z:"Mac",ca:"Mac"},{pa:navigator.platform,Z:"BlackBerry",ca:"BlackBerry"},{pa:navigator.platform,Z:"FreeBSD",ca:"FreeBSD"},{pa:navigator.platform,Z:"OpenBSD",ca:"OpenBSD"},{pa:navigator.platform,Z:"Nintendo",ca:"Nintendo"},{pa:navigator.platform,
Z:"SunOS",ca:"SunOS"},{pa:navigator.platform,Z:"PlayStation",ca:"PlayStation"},{pa:navigator.platform,Z:"X11",ca:"X11"},{pa:navigator.userAgent,Z:"iPhone",ca:"iOS"},{pa:navigator.userAgent,Z:"iPad",ca:"iOS"},{pa:navigator.platform,Z:"Pike v",ca:"iOS"},{pa:navigator.platform,Z:["Linux armv7l","Android"],ca:"Android"},{pa:navigator.platform,Z:"Linux",ca:"Linux"}]};b.C={};b.C.fb=function(a,c,d,e){var f=[],g;for(g in a)f.push(a[g]);return-1===f.indexOf(c)?(b.b.error(d+" Valid values from "+e+' are "'+
f.join('"/"')+'".'),!1):!0};b.C.isArray=function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)};b.C.Na=function(a){return"[object Date]"===Object.prototype.toString.call(a)};b.C.Wh=function(a){return"[object Object]"===Object.prototype.toString.call(a)};b.C.Af=function(a){null==a&&(a=[]);for(var b=[],d=arguments.length,e=0,f=a.length;e<f;e++){var g=a[e];if(-1===b.indexOf(g)){for(var h=1;h<d&&-1!==arguments[h].indexOf(g);h++);h===d&&b.push(g)}}return b};
b.C.keys=function(a){var b=[];if(null!=a)for(var d in a)a.hasOwnProperty(d)&&b.push(d);return b};b.C.isEqual=function(a,c){if(a===c)return 0!==a||1/a===1/c;if(null==a||null==c)return a===c;var d=a.toString();if(d!==c.toString())return!1;switch(d){case "[object RegExp]":case "[object String]":return""+a===""+c;case "[object Number]":return+a!==+a?+c!==+c:0===+a?1/+a===1/c:+a===+c;case "[object Date]":case "[object Boolean]":return+a===+c}d="[object Array]"===d;if(!d){if("object"!==typeof a||"object"!==
typeof c)return!1;var e=a.constructor,f=c.constructor;if(e!==f&&!("function"===typeof e&&e instanceof e&&"function"===typeof f&&f instanceof f)&&"constructor"in a&&"constructor"in c)return!1}for(var e=[],f=[],g=e.length;g--;)if(e[g]===a)return f[g]===c;e.push(a);f.push(c);if(d){g=a.length;if(g!==c.length)return!1;for(;g--;)if(!b.C.isEqual(a[g],c[g],e,f))return!1}else{var d=b.C.keys(a),h,g=d.length;if(b.C.keys(c).length!==g)return!1;for(;g--;)if(h=d[g],!c.hasOwnProperty(h)||!b.C.isEqual(a[h],c[h],
e,f))return!1}e.pop();f.pop();return!0};b.N={};b.N.Wc=function(a,b){var c=a/1E3;b&&(c=Math.floor(c));return c};b.N.Qb=function(a){var b=parseInt(a);return null==a||isNaN(b)?null:new Date(1E3*b)};b.N.Vf=function(a){return null!=a&&b.C.Na(a)?a.toISOString().replace(/\.[0-9]{3}Z$/,""):a};b.N.Mf=function(a){return null==a||""===a?null:new Date(a)};b.N.Of=function(a){return(Date.now()-a.valueOf())/1E3};b.N.Pf=function(a){return(a.valueOf()-Date.now())/1E3};b.bc=function(){};b.bc.ad=function(){function a(a){var b=
(Math.random().toString(16)+"000000000").substr(2,8);return a?"-"+b.substr(0,4)+"-"+b.substr(4,4):b}return a()+a(!0)+a(!0)+a()};b.fe={yb:function(a,c){this.data={en:{NO_CARDS_MESSAGE:"We have no updates for you at this time.<br/>Please check again later.",FEED_TIMEOUT_MESSAGE:"Sorry, this refresh timed out.<br/>Please try again later."},ar:{NO_CARDS_MESSAGE:"\u0644\u064a\u0633 \u0644\u062f\u064a\u0646\u0627 \u0623\u064a \u062a\u062d\u062f\u064a\u062b. \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649 \u0644\u0627\u062d\u0642\u0627\u064b",
FEED_TIMEOUT_MESSAGE:"\u064a\u0631\u062c\u0649 \u062a\u0643\u0631\u0627\u0631 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627"},da:{NO_CARDS_MESSAGE:"Vi har ingen updates.<br/>Pr\u00f8v venligst senere.",FEED_TIMEOUT_MESSAGE:"Pr\u00f8v venligst senere."},de:{NO_CARDS_MESSAGE:"Derzeit sind keine Updates verf\u00fcgbar.<br/>Bitte sp\u00e4ter noch einmal versuchen.",FEED_TIMEOUT_MESSAGE:"Bitte sp\u00e4ter noch einmal versuchen."},es:{NO_CARDS_MESSAGE:"No tenemos actualizaciones.<br/>Por favor compru\u00e9belo m\u00e1s tarde.",
FEED_TIMEOUT_MESSAGE:"Por favor int\u00e9ntelo m\u00e1s tarde."},"es-mx":{NO_CARDS_MESSAGE:"No tenemos ninguna actualizaci\u00f3n.<br/>Vuelva a verificar m\u00e1s tarde.",FEED_TIMEOUT_MESSAGE:"Por favor, vuelva a intentarlo m\u00e1s tarde."},et:{NO_CARDS_MESSAGE:"Uuendusi pole praegu saadaval.<br/>Proovige hiljem uuesti.",FEED_TIMEOUT_MESSAGE:"Palun proovige hiljem uuesti."},fi:{NO_CARDS_MESSAGE:"P\u00e4ivityksi\u00e4 ei ole saatavilla.<br/>Tarkista my\u00f6hemmin uudelleen.",FEED_TIMEOUT_MESSAGE:"Yrit\u00e4 my\u00f6hemmin uudelleen."},
fr:{NO_CARDS_MESSAGE:"Aucune mise \u00e0 jour disponible.<br/>Veuillez v\u00e9rifier ult\u00e9rieurement.",FEED_TIMEOUT_MESSAGE:"Veuillez r\u00e9essayer ult\u00e9rieurement."},he:{NO_CARDS_MESSAGE:".\u05d0\u05d9\u05df \u05dc\u05e0\u05d5 \u05e2\u05d3\u05db\u05d5\u05e0\u05d9\u05dd. \u05d1\u05d1\u05e7\u05e9\u05d4 \u05d1\u05d3\u05d5\u05e7 \u05e9\u05d5\u05d1 \u05d1\u05e7\u05e8\u05d5\u05d1",FEED_TIMEOUT_MESSAGE:".\u05d1\u05d1\u05e7\u05e9\u05d4 \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1 \u05d1\u05e7\u05e8\u05d5\u05d1"},
hi:{NO_CARDS_MESSAGE:"\u0939\u092e\u093e\u0930\u0947 \u092a\u093e\u0938 \u0915\u094b\u0908 \u0905\u092a\u0921\u0947\u091f \u0928\u0939\u0940\u0902 \u0939\u0948\u0902\u0964 \u0915\u0943\u092a\u092f\u093e \u092c\u093e\u0926 \u092e\u0947\u0902 \u092b\u093f\u0930 \u0938\u0947 \u091c\u093e\u0901\u091a \u0915\u0930\u0947\u0902.\u0964",FEED_TIMEOUT_MESSAGE:"\u0915\u0943\u092a\u092f\u093e \u092c\u093e\u0926 \u092e\u0947\u0902 \u0926\u094b\u092c\u093e\u0930\u093e \u092a\u094d\u0930\u092f\u093e\u0938 \u0915\u0930\u0947\u0902\u0964."},
id:{NO_CARDS_MESSAGE:"Kami tidak memiliki pembaruan. Coba lagi nanti.",FEED_TIMEOUT_MESSAGE:"Coba lagi nanti."},it:{NO_CARDS_MESSAGE:"Non ci sono aggiornamenti.<br/>Ricontrollare pi\u00f9 tardi.",FEED_TIMEOUT_MESSAGE:"Riprovare pi\u00f9 tardi."},ja:{NO_CARDS_MESSAGE:"\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u306f\u3042\u308a\u307e\u305b\u3093\u3002<br/>\u5f8c\u3067\u3082\u3046\u4e00\u5ea6\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002",FEED_TIMEOUT_MESSAGE:"\u5f8c\u3067\u3082\u3046\u4e00\u5ea6\u8a66\u3057\u3066\u304f\u3060\u3055\u3044\u3002"},
ko:{NO_CARDS_MESSAGE:"\uc5c5\ub370\uc774\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ub2e4\uc74c\uc5d0 \ub2e4\uc2dc \ud655\uc778\ud574 \uc8fc\uc2ed\uc2dc\uc624.",FEED_TIMEOUT_MESSAGE:"\ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc2ed\uc2dc\uc624."},ms:{NO_CARDS_MESSAGE:"Tiada kemas kini. Sila periksa kemudian.",FEED_TIMEOUT_MESSAGE:"Sila cuba kemudian."},nl:{NO_CARDS_MESSAGE:"Er zijn geen updates.<br/>Probeer het later opnieuw.",FEED_TIMEOUT_MESSAGE:"Probeer het later opnieuw."},no:{NO_CARDS_MESSAGE:"Vi har ingen oppdateringer.<br/>Vennligst sjekk igjen senere.",
FEED_TIMEOUT_MESSAGE:"Vennligst pr\u00f8v igjen senere."},pl:{NO_CARDS_MESSAGE:"Brak aktualizacji.<br/>Prosz\u0119 sprawdzi\u0107 ponownie p\u00f3\u017aniej.",FEED_TIMEOUT_MESSAGE:"Prosz\u0119 spr\u00f3bowa\u0107 ponownie p\u00f3\u017aniej."},pt:{NO_CARDS_MESSAGE:"N\u00e3o temos atualiza\u00e7\u00f5es.<br/>Por favor, verifique mais tarde.",FEED_TIMEOUT_MESSAGE:"Por favor, tente mais tarde."},"pt-br":{NO_CARDS_MESSAGE:"N\u00e3o temos nenhuma atualiza\u00e7\u00e3o.<br/>Verifique novamente mais tarde.",
FEED_TIMEOUT_MESSAGE:"Tente novamente mais tarde."},ru:{NO_CARDS_MESSAGE:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b.<br/>\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043d\u043e\u0432\u0430 \u043f\u043e\u0437\u0436\u0435.",FEED_TIMEOUT_MESSAGE:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435."},
sv:{NO_CARDS_MESSAGE:"Det finns inga uppdateringar.<br/>F\u00f6rs\u00f6k igen senare.",FEED_TIMEOUT_MESSAGE:"F\u00f6rs\u00f6k igen senare."},th:{NO_CARDS_MESSAGE:"\u0e40\u0e23\u0e32\u0e44\u0e21\u0e48\u0e21\u0e35\u0e01\u0e32\u0e23\u0e2d\u0e31\u0e1e\u0e40\u0e14\u0e15 \u0e01\u0e23\u0e38\u0e13\u0e32\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e20\u0e32\u0e22\u0e2b\u0e25\u0e31\u0e07.",FEED_TIMEOUT_MESSAGE:"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e25\u0e2d\u0e07\u0e43\u0e2b\u0e21\u0e48\u0e20\u0e32\u0e22\u0e2b\u0e25\u0e31\u0e07."},
vi:{NO_CARDS_MESSAGE:"Ch\u00fang t\u00f4i kh\u00f4ng c\u00f3 c\u1eadp nh\u1eadt n\u00e0o.<br/>Vui l\u00f2ng ki\u1ec3m tra l\u1ea1i sau.",FEED_TIMEOUT_MESSAGE:"Vui l\u00f2ng th\u1eed l\u1ea1i sau."},"zh-hk":{NO_CARDS_MESSAGE:"\u66ab\u6642\u6c92\u6709\u66f4\u65b0.<br/>\u8acb\u7a0d\u5019\u518d\u8a66.",FEED_TIMEOUT_MESSAGE:"\u8acb\u7a0d\u5019\u518d\u8a66."},"zh-hans":{NO_CARDS_MESSAGE:"\u6682\u65f6\u6ca1\u6709\u66f4\u65b0.<br/>\u8bf7\u7a0d\u540e\u518d\u8bd5.",FEED_TIMEOUT_MESSAGE:"\u8bf7\u7a0d\u5019\u518d\u8bd5."},
"zh-hant":{NO_CARDS_MESSAGE:"\u66ab\u6642\u6c92\u6709\u66f4\u65b0.<br/>\u8acb\u7a0d\u5019\u518d\u8a66.",FEED_TIMEOUT_MESSAGE:"\u8acb\u7a0d\u5019\u518d\u8a66."},"zh-tw":{NO_CARDS_MESSAGE:"\u66ab\u6642\u6c92\u6709\u66f4\u65b0.<br/>\u8acb\u7a0d\u5019\u518d\u8a66.",FEED_TIMEOUT_MESSAGE:"\u8acb\u7a0d\u5019\u518d\u8a66."},zh:{NO_CARDS_MESSAGE:"\u6682\u65f6\u6ca1\u6709\u66f4\u65b0.<br/>\u8bf7\u7a0d\u540e\u518d\u8bd5.",FEED_TIMEOUT_MESSAGE:"\u8bf7\u7a0d\u5019\u518d\u8bd5."}};null!=a&&(a=a.toLowerCase());
if(null!=a&&null==this.data[a]){var d=a.indexOf("-");0<d&&(a=a.substring(0,d))}null==this.data[a]&&(d="Appboy does not yet have a localization for language "+a+", defaulting to English. Please contact us if you are willing and able to help us translate our SDK into this language.",c?b.b.error(d):b.b.info(d),a="en");this.language=a},get:function(a){return this.data[this.language][a]}};b.b={yb:function(a){if(void 0!==a||void 0===b.b.rb)b.b.rb=!!a;b.b.af||(b.b.af=!0)},rc:function(){b.b.af=!1;b.b.rb=
void 0;b.b.P=void 0},se:function(a){"function"!==typeof a?b.b.info("Ignoring setLogger call since logger is not a function"):(b.b.yb(),b.b.P=a)},we:function(){b.b.yb();b.b.rb?(console.log("Disabling Appboy logging"),b.b.rb=!1):(console.log("Enabled Appboy logging"),b.b.rb=!0)},info:function(a){b.b.rb&&(null!=b.b.P?b.b.P("Appboy: "+a):console.log("Appboy: "+a))},error:function(a){b.b.rb&&(null!=b.b.P?b.b.P("Appboy SDK Error: "+a):console.error("Appboy SDK Error: "+a))}};b.ke=function(){};b.ke.If=function(a){var c,
d,e=!1;try{if(window.XMLHttpRequest&&(c=new XMLHttpRequest)&&"undefined"!==typeof c.withCredentials||("undefined"!==typeof XDomainRequest?(c=new XDomainRequest,e=c.async=!0):b.b.error("This browser does not have any supported ajax options!")),null!=c){var f=function(){"function"===typeof a.error&&a.error();"function"===typeof a.Tc&&a.Tc()};c.onload=function(){var b;if(e)b=!0;else{if(4!==c.readyState)return;b=200<=c.status&&300>c.status||304===c.status}b?("function"===typeof a.M&&a.M(JSON.parse(c.responseText)),
"function"===typeof a.Tc&&a.Tc()):f()};c.onerror=function(){f()};c.ontimeout=function(){f()};d=JSON.stringify(a.data);if(e)c.onprogress=function(){},c.open("post",a.url);else{c.open("POST",a.url,!0);c.setRequestHeader("Content-type","application/json");c.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var g=a.headers||[],h=0;h<g.length;h++)c.setRequestHeader(g[h][0],g[h][1])}c.send(d)}}catch(l){b.b.error("Network request error: "+l.message)}};b.K=function(){};b.K.dg=/^[^\$\x00-\x1F\x22][^\x00-\x1F\x22]{0,254}$/;
b.K.jg=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/;b.K.wc=function(a,c,d){var e;null==e&&(e=b.W.Ee);(e=null!=a&&"string"===
typeof a&&a.length<=e)||b.b.error("Cannot "+c+" because "+d+' "'+a+'" is invalid.');return e};b.K.Ba=function(a,c,d){var e=null!=a&&"string"===typeof a&&(""===a||a.match(b.K.dg));e||b.b.error("Cannot "+c+" because "+d+' "'+a+'" is invalid.');return e};b.K.Mi=function(a,c,d){var e=typeof a,f=b.C.Na(a);(e=null!=a&&("number"===e||"boolean"===e||f||"string"===e&&a.length<=b.W.Ee))||b.b.error("Cannot "+c+" because "+d+' "'+a+'" is invalid.');return e};b.K.Cf=function(a){return null!=a&&null!=a.match(b.K.jg)};
b.wa={};b.wa.Qa=function(a){a=parseInt(a);if(isNaN(a))return"";a>>>=0;var c=a&255,d=(a&65280)>>>8,e=(a&16711680)>>>16;return b.pc.Di()?"rgba("+[e,d,c,((a&4278190080)>>>24)/255].join()+")":"rgb("+[e,d,c].join()+")"};b.wa.cj=function(a){a=parseInt(a);if(isNaN(a))return"";a>>>=0;return"rgb("+[(a&16711680)>>>16,(a&65280)>>>8,a&255].join()+")"};b.Sa={};b.Sa.be=function(a,b,d,e){if(null==a)return!1;b=b||!1;d=d||!1;a=a.getBoundingClientRect();return null==a?!1:(0<=a.top&&a.top<=(window.innerHeight||document.documentElement.clientHeight)||
!b)&&(0<=a.left||!e)&&(0<=a.bottom&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)||!d)&&(a.right<=(window.innerWidth||document.documentElement.clientWidth)||!e)};b.Sa.Ii=function(a){return b.Sa.be(a,!0,!1,!1)};b.Sa.qh=function(a){return b.Sa.be(a,!1,!0,!1)};b.Wb.prototype.Xd="ab-classic-card";b.Vb.prototype.Xd="ab-captioned-image";b.Banner.prototype.Xd="ab-banner";b.Wb.prototype.$d=!0;b.Vb.prototype.$d=!0;b.Banner.prototype.$d=!1;b.B.Te="data-ab-had-top-impression";b.B.ye=
"data-ab-had-bottom-impression";b.B.Hi=function(a){return null!=a&&!!a.getAttribute(b.B.Te)};b.B.zf=function(a){null!=a&&a.setAttribute(b.B.Te,!0)};b.B.ph=function(a){return null!=a&&!!a.getAttribute(b.B.ye)};b.B.yf=function(a){null!=a&&a.setAttribute(b.B.ye,!0)};b.B.Ff=function(a){null!=a&&(a=a.querySelectorAll(".ab-unread-indicator")[0],null!=a&&(a.className+=" read"))};b.B.Lh=function(a){return a.getAttribute("data-ab-card-id")};b.B.prototype.Aa=function(a,c){function d(d){d=d||window.event;b.B.Ff(e);
f&&(a(g),b.Y.openUri(g.url,d,c));return!1}var e=document.createElement("div");e.className="ab-card "+this.constructor.prototype.Xd;e.setAttribute("data-ab-card-id",this.id);var f=this.url&&""!==this.url,g=this;if(this.imageUrl&&""!==this.imageUrl){var h=document.createElement("div");h.className="ab-image-area";var l=document.createElement("img");l.setAttribute("src",this.imageUrl);h.appendChild(l);e.className+=" with-image";f&&!this.constructor.prototype.$d?(l=document.createElement("a"),l.setAttribute("href",
this.url),l.onclick=d,l.appendChild(h),e.appendChild(l)):e.appendChild(h)}h=document.createElement("div");h.className="ab-card-body";l=document.createElement("div");l.className="ab-title";if(f){var p=document.createElement("a");p.setAttribute("href",this.url);p.onclick=d;p.appendChild(document.createTextNode(this.title));l.appendChild(p)}else l.appendChild(document.createTextNode(this.title));h.appendChild(l);l=document.createElement("div");l.className="ab-description";l.appendChild(document.createTextNode(this.description));
if(f){p=document.createElement("div");p.className="ab-url-area";var m=document.createElement("a");m.setAttribute("href",this.url);m.appendChild(document.createTextNode(this.linkText));m.onclick=d;p.appendChild(m);l.appendChild(p)}h.appendChild(l);e.appendChild(h);h=document.createElement("div");h.className="ab-unread-indicator";this.viewed&&(h.className+=" read",b.B.zf(e),b.B.yf(e));e.appendChild(h);return e};b.G.Ed=240;b.G.Me=6E4;b.G.Se="data-update-subscription-id";b.G.Je="data-last-requested-refresh";
b.G.Lg=1E4;b.G.ra=function(a,c){c&&(c.className=c.className.replace("ab-show","ab-hide"),setTimeout(function(){c&&c.parentNode&&c.parentNode.removeChild(c)},b.G.Ed));var d=c.getAttribute(b.G.Se);null!=d&&a.oa(d)};b.G.prototype.kf=function(a,c){var d=document.createElement("div");d.className="ab-feed-body";if(null==this.lastUpdated){var e=document.createElement("div");e.className="ab-no-cards-message";var f=document.createElement("i");f.className="fa fa-spinner fa-spin fa-4x ab-initial-spinner";e.appendChild(f);
d.appendChild(e)}else{e=function(b){a.dd(b)};for(f=0;f<this.cards.length;f++)d.appendChild(this.cards[f].Aa(e,c));0===this.cards.length&&(e=document.createElement("div"),e.className="ab-no-cards-message",e.innerHTML=b.fe.get("NO_CARDS_MESSAGE"),d.appendChild(e))}return d};b.G.prototype.Yd=function(a,c){if(null!=c){for(var d=[],e=c.querySelectorAll(".ab-card"),f=0;f<e.length;f++){var g=b.B.Hi(e[f]),h=b.B.ph(e[f]),l=g,p=h,m=b.Sa.Ii(e[f]),n=b.Sa.qh(e[f]);!g&&m&&(g=!0,b.B.zf(e[f]));!h&&n&&(h=!0,b.B.yf(e[f]));
if(g&&h&&(m||n||b.B.Ff(e[f]),!l||!p))for(g=b.B.Lh(e[f]),h=0;h<this.cards.length;h++)if(this.cards[f].id===g){d.push(this.cards[f]);break}}0<d.length&&a.ed(d)}};b.G.prototype.Nf=function(a,c){var d=c.querySelectorAll(".ab-refresh-button")[0];null!=d&&(d.className+=" fa-spin");var e=Date.now().toString();c.setAttribute(b.G.Je,e);setTimeout(function(){if(c.getAttribute(b.G.Je)===e){for(var a=c.querySelectorAll(".fa-spin"),d=0;d<a.length;d++)a[d].className=a[d].className.replace(/fa-spin/,"");a=c.querySelectorAll(".ab-initial-spinner")[0];
null!=a&&(d=document.createElement("span"),d.innerHTML=b.fe.get("FEED_TIMEOUT_MESSAGE"),a.parentNode.appendChild(d),a.parentNode.removeChild(a))}},b.G.Lg);a.md()};b.G.prototype.Aa=function(a,c){var d=this,e=document.createElement("div");e.className="ab-feed ab-show";var f=document.createElement("div");f.className="ab-feed-buttons-wrapper";e.appendChild(f);var g=document.createElement("i");g.className="fa fa-times ab-close-button";g.onclick=function(c){c=c||window.event;b.G.ra(a,e);c.stopPropagation()};
f.appendChild(g);g=document.createElement("i");g.className="fa fa-refresh ab-refresh-button";g.onclick=function(b){b=b||window.event;d.Nf(a,e);b.stopPropagation()};f.appendChild(g);e.appendChild(this.kf(a,c));e.onscroll=function(){d.Yd(a,e)};return e};b.G.prototype.gi=function(a,c){c.setAttribute(b.G.Se,a)};b.G.prototype.Xf=function(a,c,d,e,f){this.cards=a;this.lastUpdated=c;null!=d&&(null==this.lastUpdated?b.G.ra(e,d):(a=d.querySelectorAll(".ab-feed-body")[0],null!=a&&(f=this.kf(e,f),a.parentNode.replaceChild(f,
a),this.Yd(e,f.parentNode))))};b.f.Ed=240;b.f.ng=490;b.f.prototype.Uc=function(){return this.animateIn?" ab-show ":" "};b.f.prototype.sf=function(){return this.animateOut?" ab-hide ":" "};b.f.prototype.ra=function(a,c){if(a){var d;if(d=-1===a.className.indexOf("ab-in-app-message")?a.getElementsByClassName("ab-in-app-message")[0]:a)d.className=d.className.replace(this.Uc(),this.sf());d=function(){a&&a.parentNode&&a.parentNode.removeChild(a);c&&c()};this.animateOut?setTimeout(d,b.f.Ed):d()}};b.f.prototype.Aa=
function(a,c,d,e,f){function g(){-1!==l.className.indexOf("ab-start-hidden")&&(l.className=l.className.replace("ab-start-hidden",h.Uc()),d(f))}var h=this,l=document.createElement("div");l.className="ab-in-app-message ab-start-hidden";l.style.color=b.wa.Qa(this.textColor);null!=f?f.appendChild(l):f=l;this.imageStyle===b.f.Bc.GRAPHIC&&(l.className+=" graphic");this.orientation===b.f.ia.LANDSCAPE&&(l.className+=" landscape");0===this.buttons.length&&(h.clickAction!==b.f.Ra.NONE&&(l.className+=" ab-clickable"),
l.onclick=function(d){d=d||window.event;h.ra(f,function(){a.hd(h);h.clickAction===b.f.Ra.URI?b.Y.openUri(h.uri,d,e||h.openTarget===b.f.Ec.BLANK):h.clickAction===b.f.Ra.NEWS_FEED&&c()});d.stopPropagation()});A(l,this.backgroundColor);var p=document.createElement("i");p.className="fa fa-times ab-close-button";p.onclick=function(a){a=a||window.event;h.ra(f);h.oe();a.stopPropagation()};p.style.color=b.wa.Qa(this.closeButtonColor);l.appendChild(p);var p=!1,m=document.createElement("div");m.className="ab-image-area";
if(this.imageUrl){if(this.cropType===b.f.Xb.CENTER_CROP){var n=document.createElement("span");n.className="ab-center-cropped-img";n.style.backgroundImage="url("+this.imageUrl+")"}else n=document.createElement("img"),n.setAttribute("src",this.imageUrl),p=!0,n.onload=g,setTimeout(g,1E3);m.appendChild(n);l.appendChild(m)}else if(this.icon){m.className+=" ab-icon-area";n=document.createElement("span");n.className="ab-icon";n.style.backgroundColor=b.wa.Qa(this.iconBackgroundColor);n.style.color=b.wa.Qa(this.iconColor);
var r=document.createElement("i");r.className="fa";r.appendChild(document.createTextNode(this.icon));n.appendChild(r);m.appendChild(n);l.appendChild(m)}m=document.createElement("div");m.className="ab-message-text";m.className+=" "+this.messageAlignment.toLowerCase()+"-aligned";m.addEventListener("touchstart",function(){});this.header&&0<this.header.length&&(n=document.createElement("span"),n.className="ab-message-header",n.className+=" "+this.headerAlignment.toLowerCase()+"-aligned",n.style.color=
b.wa.Qa(this.headerTextColor),n.appendChild(document.createTextNode(this.header)),m.appendChild(n));m.appendChild(document.createTextNode(this.message));l.appendChild(m);p||g();return l};b.ob.prototype.Aa=function(a,c,d,e){a=b.f.prototype.Aa.call(this,a,c,d,e);a.className+=" ab-slideup ab-effect-slide";return a};b.Ha.prototype.Aa=function(a,c,d,e){var f=document.createElement("div");f.className="ab-centering-div ab-modal";d=b.f.prototype.Aa.call(this,a,c,d,e,f);d.className+=" ab-modal ab-effect-modal";
y(d);z(this,a,c,d,e,f);return f};b.Ga.prototype.Aa=function(a,c,d,e){d=b.f.prototype.Aa.call(this,a,c,d,e);d.className+=" ab-fullscreen ab-effect-fullscreen";y(d);z(this,a,c,d,e);return d};b.Ha.prototype.ra=b.Ga.prototype.ra=function(a,c){for(var d=document.querySelectorAll(".ab-page-blocker"),e=null,f=0;f<d.length;f++)-1===d[f].className.indexOf("ab-hide")&&(e=d[f]);e&&(e.className=e.className.replace(this.Uc(),this.sf()),d=function(){e.parentNode&&e.parentNode.removeChild(e)},this.animateOut?setTimeout(d,
b.f.ng):d());b.f.prototype.ra.call(this,a,c)};b.Y={};b.Y.openUri=function(a,b,d){d||null!=b&&b.metaKey?window.open(a):window.location=a};b.Y.Xh=function(){return 750>=screen.width};b.Y.ia={Fc:0,wd:1};b.Y.Ph=function(){if("orientation"in window)return 90===Math.abs(window.orientation)||270===window.orientation?b.Y.ia.wd:b.Y.ia.Fc;if("screen"in window){var a=window.screen.orientation||screen.Zi||screen.$i;null!=a&&"object"===typeof a&&(a=a.type);if("landscape-primary"===a||"landscape-secondary"===a)return b.Y.ia.wd}return b.Y.ia.Fc};
var h=new N;h.A=b;h.Ai=u;g.AF=N;"undefined"!==typeof B&&(g.ADF=B,h.display=new B(h));g.initialize=h.ae;g.destroy=h.rc;g.toggleAppboyLogging=h.we;g.setLogger=h.se;g.openSession=h.kd;g.changeUser=h.Wd;g.getUser=h.sc;g.requestImmediateDataFlush=h.nd;g.requestFeedRefresh=h.md;g.getCachedFeed=h.Zc;g.subscribeToFeedUpdates=h.Sf;g.logCardImpressions=h.ed;g.logCardClick=h.dd;g.logFeedDisplayed=h.fd;g.requestInAppMessageRefresh=h.qe;g.logInAppMessageImpression=h.tc;g.logInAppMessageClick=h.hd;g.logInAppMessageButtonClick=
h.gd;g.subscribeToNewInAppMessages=h.Uf;g.removeSubscription=h.oa;g.removeAllSubscriptions=h.na;g.logCustomEvent=h.ie;g.logPurchase=h.je;g.isPushSupported=h.bb;g.isPushBlocked=h.Rb;g.isPushGranted=h.ce;g.isPushPermissionGranted=h.ee;g.registerAppboyPushMessages=h.ei;g.unregisterAppboyPushMessages=h.Ki;g.submitFeedback=h.ve;g.ab=h.A;g.ab.User=h.A.m;g.ab.User.Genders=h.A.m.He;g.ab.User.NotificationSubscriptionTypes=h.A.m.dc;g.ab.User.prototype.getUserId=h.A.m.prototype.R;g.ab.User.prototype.setFirstName=
h.A.m.prototype.ui;g.ab.User.prototype.setLastName=h.A.m.prototype.yi;g.ab.User.prototype.setEmail=h.A.m.prototype.si;g.ab.User.prototype.setGender=h.A.m.prototype.wi;g.ab.User.prototype.setDateOfBirth=h.A.m.prototype.ri;g.ab.User.prototype.setCountry=h.A.m.prototype.pi;g.ab.User.prototype.setHomeCity=h.A.m.prototype.xi;g.ab.User.prototype.setEmailNotificationSubscriptionType=h.A.m.prototype.ti;g.ab.User.prototype.setPushNotificationSubscriptionType=h.A.m.prototype.te;g.ab.User.prototype.setPhoneNumber=
h.A.m.prototype.zi;g.ab.User.prototype.setAvatarImageUrl=h.A.m.prototype.oi;g.ab.User.prototype.setLastKnownLocation=h.A.m.prototype.re;g.ab.User.prototype.setUserAttribute=h.A.m.prototype.ea;g.ab.User.prototype.setCustomUserAttribute=h.A.m.prototype.Sb;g.ab.User.prototype.addToCustomAttributeArray=h.A.m.prototype.lh;g.ab.User.prototype.removeFromCustomAttributeArray=h.A.m.prototype.ii;g.ab.User.prototype.incrementCustomUserAttribute=h.A.m.prototype.Sh;g.ab.InAppMessage=h.A.f;g.ab.InAppMessage.SlideFrom=
h.A.f.Gc;g.ab.InAppMessage.ClickAction=h.A.f.Ra;g.ab.InAppMessage.DismissType=h.A.f.ac;g.ab.InAppMessage.OpenTarget=h.A.f.Ec;g.ab.InAppMessage.ImageStyle=h.A.f.Bc;g.ab.InAppMessage.Orientation=h.A.f.ia;g.ab.InAppMessage.CropType=h.A.f.Xb;g.ab.InAppMessage.prototype.subscribeToClickedEvent=h.A.f.prototype.od;g.ab.InAppMessage.prototype.subscribeToDismissedEvent=h.A.f.prototype.Ci;g.ab.InAppMessage.prototype.removeSubscription=h.A.f.prototype.oa;g.ab.InAppMessage.prototype.removeAllSubscriptions=h.A.f.prototype.na;
g.ab.InAppMessage.Button=h.A.f.ga;g.ab.InAppMessage.Button.prototype.subscribeToClickedEvent=h.A.f.ga.prototype.od;g.ab.InAppMessage.Button.prototype.removeSubscription=h.A.f.ga.prototype.oa;g.ab.InAppMessage.Button.prototype.removeAllSubscriptions=h.A.f.ga.prototype.na;g.ab.SlideUpMessage=h.A.ob;g.ab.ModalMessage=h.A.Ha;g.ab.FullScreenMessage=h.A.Ga;g.ab.ControlMessage=h.A.Cb;g.ab.Feed=h.A.G;g.ab.Feed.prototype.getUnreadCardCount=h.A.G.prototype.Qh;g.ab.Card=h.A.B;g.ab.ClassicCard=h.A.Wb;g.ab.CaptionedImage=
h.A.Vb;g.ab.Banner=h.A.Banner;g.ab.WindowUtils=h.A.Y;"undefined"!==typeof B&&(g.display=h.display,g.display.automaticallyShowNewInAppMessages=h.display.oh,g.display.showInAppMessage=h.display.Bi,g.display.showFeed=h.display.Rf,g.display.destroyFeed=h.display.Fh,g.display.toggleFeed=h.display.Gi);g.sharedLib=h.Ai;g.subscribeToInit=h.Tf;return g}
"function"===typeof define&&define.amd?define(["exports","require"],Z):"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?Z(module.exports||exports):Z(window.appboy={});
